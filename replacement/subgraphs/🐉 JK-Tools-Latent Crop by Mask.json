{"revision":0,"last_node_id":6,"last_link_id":0,"nodes":[{"id":6,"type":"b7237531-696d-4bde-9ad9-615a97dfcb3c","pos":[9530,1340],"size":[270,46],"flags":{},"order":3,"mode":0,"inputs":[{"label":"LATENT","name":"latent_false","type":"LATENT","link":null},{"label":"MASK","name":"mask_false","type":"MASK","link":null}],"outputs":[{"name":"LATENT","type":"LATENT","links":null},{"name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.49"},"widgets_values":[],"title":"üêâ JK-Latent Crop by Mask"}],"links":[],"version":0.4,"definitions":{"subgraphs":[{"id":"b7237531-696d-4bde-9ad9-615a97dfcb3c","version":1,"state":{"lastGroupId":0,"lastNodeId":20,"lastLinkId":38,"lastRerouteId":0},"revision":0,"config":{},"name":"üêâ JK-Latent Crop by Mask","inputNode":{"id":-10,"bounding":[8630,1350,120,80]},"outputNode":{"id":-20,"bounding":[10420,1430,120,80]},"inputs":[{"id":"d56dc52a-609d-4fa5-a1c4-cc9d2d120f5d","name":"latent_false","type":"LATENT","linkIds":[35],"label":"LATENT","pos":{"0":8730,"1":1370}},{"id":"9d4e844b-e1ac-40cf-a732-52578d7f3fb6","name":"mask_false","type":"MASK","linkIds":[36],"label":"MASK","pos":{"0":8730,"1":1390}}],"outputs":[{"id":"d65023d9-0ea1-45a7-853f-057ee083919d","name":"LATENT","type":"LATENT","linkIds":[37],"pos":{"0":10440,"1":1450}},{"id":"5c505a5b-7efb-4caf-a5ea-92a0693d8294","name":"MASK","type":"MASK","linkIds":[38],"pos":{"0":10440,"1":1470}}],"widgets":[],"nodes":[{"id":6,"type":"Reroute","pos":[9350.099609375,1413.185302734375],"size":[90.4000015258789,26],"flags":{},"order":2,"mode":0,"inputs":[{"name":"","type":"*","link":33}],"outputs":[{"name":"LATENT","type":"LATENT","links":[8,20]}],"properties":{"showOutputText":true,"horizontal":false}},{"id":7,"type":"Reroute","pos":[9730.099609375,1413.185302734375],"size":[90.4000015258789,26],"flags":{},"order":3,"mode":0,"inputs":[{"name":"","type":"*","link":8}],"outputs":[{"name":"LATENT","type":"LATENT","links":[2,21]}],"properties":{"showOutputText":true,"horizontal":false}},{"id":8,"type":"Reroute","pos":[9990.099609375,1433.185302734375],"size":[98.80000305175781,26],"flags":{},"order":4,"mode":0,"inputs":[{"name":"","type":"*","widget":{"name":"value"},"link":9}],"outputs":[{"name":"BOOLEAN","type":"BOOLEAN","links":[3,6]}],"properties":{"showOutputText":true,"horizontal":false}},{"id":9,"type":"Reroute","pos":[9740.099609375,1333.185302734375],"size":[75,26],"flags":{},"order":5,"mode":0,"inputs":[{"name":"","type":"*","link":10}],"outputs":[{"name":"MASK","type":"MASK","links":[11,26]}],"properties":{"showOutputText":true,"horizontal":false}},{"id":10,"type":"Reroute","pos":[10000.099609375,1333.185302734375],"size":[75,26],"flags":{},"order":6,"mode":0,"inputs":[{"name":"","type":"*","link":11}],"outputs":[{"name":"MASK","type":"MASK","links":[5]}],"properties":{"showOutputText":true,"horizontal":false}},{"id":11,"type":"Get Size JK","pos":[9020.099609375,1403.185302734375],"size":[210,66],"flags":{"collapsed":true},"order":7,"mode":0,"inputs":[{"localized_name":"image","name":"image","shape":7,"type":"IMAGE","link":null},{"localized_name":"latent","name":"latent","shape":7,"type":"LATENT","link":34},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":null}],"outputs":[{"localized_name":"width","name":"width","type":"INT","slot_index":0,"links":[14]},{"localized_name":"height","name":"height","type":"INT","slot_index":1,"links":[15]}],"properties":{"cnr_id":"comfyui-jakeupgrade","ver":"5de18e557622d0963696ae26ad2df2228b77217f","Node name for S&R":"Get Size JK"}},{"id":12,"type":"Is Mask Empty JK","pos":[9020.099609375,1463.185302734375],"size":[226.79998779296875,26],"flags":{"collapsed":true},"order":8,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":31}],"outputs":[{"localized_name":"BOOLEAN","name":"BOOLEAN","type":"BOOLEAN","slot_index":0,"links":[9,18]}],"properties":{"cnr_id":"comfyui-jakeupgrade","ver":"5de18e557622d0963696ae26ad2df2228b77217f","Node name for S&R":"Is Mask Empty JK"}},{"id":13,"type":"SolidMask","pos":[9020.099609375,1383.185302734375],"size":[210,98],"flags":{"collapsed":true},"order":9,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"FLOAT","widget":{"name":"value"},"link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":14},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":15}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","slot_index":0,"links":[17]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"SolidMask"},"widgets_values":[1,512,512]},{"id":14,"type":"CR Mask Input Switch JK","pos":[9230.099609375,1333.185302734375],"size":[210,78],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"mask_false","name":"mask_false","type":"MASK","link":32},{"localized_name":"mask_true","name":"mask_true","shape":7,"type":"MASK","link":17},{"localized_name":"boolean_value","name":"boolean_value","type":"BOOLEAN","widget":{"name":"boolean_value"},"link":18}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","slot_index":0,"links":[10,19]},{"localized_name":"BOOLEAN","name":"BOOLEAN","type":"BOOLEAN","links":null}],"properties":{"cnr_id":"comfyui-jakeupgrade","ver":"5de18e557622d0963696ae26ad2df2228b77217f","Node name for S&R":"CR Mask Input Switch JK"},"widgets_values":[false]},{"id":15,"type":"Image Crop By Mask Resolution Grp JK","pos":[9480.099609375,1523.185302734375],"size":[320,278],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":19},{"localized_name":"image","name":"image","shape":7,"type":"IMAGE","link":null},{"localized_name":"latent","name":"latent","shape":7,"type":"LATENT","link":20},{"localized_name":"padding","name":"padding","type":"INT","widget":{"name":"padding"},"link":null},{"localized_name":"use_image_res","name":"use_image_res","type":"BOOLEAN","widget":{"name":"use_image_res"},"link":null},{"localized_name":"use_target_res","name":"use_target_res","type":"BOOLEAN","widget":{"name":"use_target_res"},"link":null},{"localized_name":"target_res","name":"target_res","type":"INT","widget":{"name":"target_res"},"link":null},{"localized_name":"use_target_mega_pixel","name":"use_target_mega_pixel","type":"BOOLEAN","widget":{"name":"use_target_mega_pixel"},"link":null},{"localized_name":"target_mega_pixel","name":"target_mega_pixel","type":"FLOAT","widget":{"name":"target_mega_pixel"},"link":null}],"outputs":[{"localized_name":"crop_width","name":"crop_width","type":"INT","links":[22,29]},{"localized_name":"crop_height","name":"crop_height","type":"INT","links":[23,30]},{"localized_name":"offset_x","name":"offset_x","type":"INT","links":[24,27]},{"localized_name":"offset_y","name":"offset_y","type":"INT","links":[25,28]},{"localized_name":"target_width","name":"target_width","type":"INT","links":null},{"localized_name":"target_height","name":"target_height","type":"INT","links":null}],"properties":{"cnr_id":"comfyui-jakeupgrade","ver":"5de18e557622d0963696ae26ad2df2228b77217f","Node name for S&R":"Image Crop By Mask Resolution Grp JK"},"widgets_values":[0,false,false,1024,false,1]},{"id":16,"type":"LatentCrop","pos":[9860.099609375,1523.185302734375],"size":[210,130],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":21},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":22},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":23},{"localized_name":"x","name":"x","type":"INT","widget":{"name":"x"},"link":24},{"localized_name":"y","name":"y","type":"INT","widget":{"name":"y"},"link":25}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[1]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"LatentCrop"},"widgets_values":[512,512,0,0]},{"id":17,"type":"CropMask","pos":[9860.099609375,1693.185302734375],"size":[210,130],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":26},{"localized_name":"x","name":"x","type":"INT","widget":{"name":"x"},"link":27},{"localized_name":"y","name":"y","type":"INT","widget":{"name":"y"},"link":28},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":29},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":30}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","slot_index":0,"links":[4]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"CropMask"},"widgets_values":[0,0,512,512]},{"id":20,"type":"CR Latent Input Switch JK","pos":[8790,1440],"size":[270,78],"flags":{"collapsed":true},"order":15,"mode":0,"inputs":[{"localized_name":"latent_false","name":"latent_false","type":"LATENT","link":35},{"localized_name":"latent_true","name":"latent_true","shape":7,"type":"LATENT","link":null},{"localized_name":"boolean_value","name":"boolean_value","type":"BOOLEAN","widget":{"name":"boolean_value"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[33,34]},{"localized_name":"BOOLEAN","name":"BOOLEAN","type":"BOOLEAN","links":null}],"properties":{"cnr_id":"comfyui-jakeupgrade","ver":"9eb746e79101e37e34ebe13ee8eac71a326ced52","Node name for S&R":"CR Latent Input Switch JK"},"widgets_values":[false]},{"id":19,"type":"CR Mask Input Switch JK","pos":[8790,1360],"size":[270,78],"flags":{"collapsed":true},"order":14,"mode":0,"inputs":[{"localized_name":"mask_false","name":"mask_false","type":"MASK","link":36},{"localized_name":"mask_true","name":"mask_true","shape":7,"type":"MASK","link":null},{"localized_name":"boolean_value","name":"boolean_value","type":"BOOLEAN","widget":{"name":"boolean_value"},"link":null}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","links":[31,32]},{"localized_name":"BOOLEAN","name":"BOOLEAN","type":"BOOLEAN","links":null}],"properties":{"cnr_id":"comfyui-jakeupgrade","ver":"9eb746e79101e37e34ebe13ee8eac71a326ced52","Node name for S&R":"CR Mask Input Switch JK"},"widgets_values":[false]},{"id":4,"type":"CR Latent Input Switch JK","pos":[10160.099609375,1393.185302734375],"size":[210,78],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"latent_false","name":"latent_false","type":"LATENT","link":1},{"localized_name":"latent_true","name":"latent_true","shape":7,"type":"LATENT","link":2},{"localized_name":"boolean_value","name":"boolean_value","type":"BOOLEAN","widget":{"name":"boolean_value"},"link":3}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[37]},{"localized_name":"BOOLEAN","name":"BOOLEAN","type":"BOOLEAN","links":null}],"properties":{"cnr_id":"comfyui-jakeupgrade","ver":"5de18e557622d0963696ae26ad2df2228b77217f","Node name for S&R":"CR Latent Input Switch JK"},"widgets_values":[false]},{"id":5,"type":"CR Mask Input Switch JK","pos":[10160.099609375,1523.185302734375],"size":[210,78],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"mask_false","name":"mask_false","type":"MASK","link":4},{"localized_name":"mask_true","name":"mask_true","shape":7,"type":"MASK","link":5},{"localized_name":"boolean_value","name":"boolean_value","type":"BOOLEAN","widget":{"name":"boolean_value"},"link":6}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","slot_index":0,"links":[38]},{"localized_name":"BOOLEAN","name":"BOOLEAN","type":"BOOLEAN","links":null}],"properties":{"cnr_id":"comfyui-jakeupgrade","ver":"5de18e557622d0963696ae26ad2df2228b77217f","Node name for S&R":"CR Mask Input Switch JK"},"widgets_values":[false]}],"groups":[],"links":[{"id":1,"origin_id":16,"origin_slot":0,"target_id":4,"target_slot":0,"type":"LATENT"},{"id":2,"origin_id":7,"origin_slot":0,"target_id":4,"target_slot":1,"type":"LATENT"},{"id":3,"origin_id":8,"origin_slot":0,"target_id":4,"target_slot":2,"type":"BOOLEAN"},{"id":4,"origin_id":17,"origin_slot":0,"target_id":5,"target_slot":0,"type":"MASK"},{"id":5,"origin_id":10,"origin_slot":0,"target_id":5,"target_slot":1,"type":"MASK"},{"id":6,"origin_id":8,"origin_slot":0,"target_id":5,"target_slot":2,"type":"BOOLEAN"},{"id":33,"origin_id":20,"origin_slot":0,"target_id":6,"target_slot":0,"type":"*"},{"id":8,"origin_id":6,"origin_slot":0,"target_id":7,"target_slot":0,"type":"*"},{"id":9,"origin_id":12,"origin_slot":0,"target_id":8,"target_slot":0,"type":"*"},{"id":10,"origin_id":14,"origin_slot":0,"target_id":9,"target_slot":0,"type":"*"},{"id":11,"origin_id":9,"origin_slot":0,"target_id":10,"target_slot":0,"type":"*"},{"id":34,"origin_id":20,"origin_slot":0,"target_id":11,"target_slot":1,"type":"LATENT"},{"id":31,"origin_id":19,"origin_slot":0,"target_id":12,"target_slot":0,"type":"MASK"},{"id":14,"origin_id":11,"origin_slot":0,"target_id":13,"target_slot":1,"type":"INT"},{"id":15,"origin_id":11,"origin_slot":1,"target_id":13,"target_slot":2,"type":"INT"},{"id":32,"origin_id":19,"origin_slot":0,"target_id":14,"target_slot":0,"type":"MASK"},{"id":17,"origin_id":13,"origin_slot":0,"target_id":14,"target_slot":1,"type":"MASK"},{"id":18,"origin_id":12,"origin_slot":0,"target_id":14,"target_slot":2,"type":"BOOLEAN"},{"id":19,"origin_id":14,"origin_slot":0,"target_id":15,"target_slot":0,"type":"MASK"},{"id":20,"origin_id":6,"origin_slot":0,"target_id":15,"target_slot":2,"type":"LATENT"},{"id":21,"origin_id":7,"origin_slot":0,"target_id":16,"target_slot":0,"type":"LATENT"},{"id":22,"origin_id":15,"origin_slot":0,"target_id":16,"target_slot":1,"type":"INT"},{"id":23,"origin_id":15,"origin_slot":1,"target_id":16,"target_slot":2,"type":"INT"},{"id":24,"origin_id":15,"origin_slot":2,"target_id":16,"target_slot":3,"type":"INT"},{"id":25,"origin_id":15,"origin_slot":3,"target_id":16,"target_slot":4,"type":"INT"},{"id":26,"origin_id":9,"origin_slot":0,"target_id":17,"target_slot":0,"type":"MASK"},{"id":27,"origin_id":15,"origin_slot":2,"target_id":17,"target_slot":1,"type":"INT"},{"id":28,"origin_id":15,"origin_slot":3,"target_id":17,"target_slot":2,"type":"INT"},{"id":29,"origin_id":15,"origin_slot":0,"target_id":17,"target_slot":3,"type":"INT"},{"id":30,"origin_id":15,"origin_slot":1,"target_id":17,"target_slot":4,"type":"INT"},{"id":35,"origin_id":-10,"origin_slot":0,"target_id":20,"target_slot":0,"type":"LATENT"},{"id":36,"origin_id":-10,"origin_slot":1,"target_id":19,"target_slot":0,"type":"MASK"},{"id":37,"origin_id":4,"origin_slot":0,"target_id":-20,"target_slot":0,"type":"LATENT"},{"id":38,"origin_id":5,"origin_slot":0,"target_id":-20,"target_slot":1,"type":"MASK"}],"extra":{}}]}}