{"id":"4f75534f-1a9f-4deb-a933-b2d2107533ec","revision":0,"last_node_id":15,"last_link_id":27,"nodes":[{"id":10,"type":"CR Image Input Switch JK","pos":[-530,-280],"size":[210,78],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"image_false","name":"image_false","type":"IMAGE","link":1},{"localized_name":"image_true","name":"image_true","shape":7,"type":"IMAGE","link":2},{"localized_name":"boolean_value","name":"boolean_value","type":"BOOLEAN","widget":{"name":"boolean_value"},"link":3}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[5]},{"localized_name":"BOOLEAN","name":"BOOLEAN","type":"BOOLEAN","links":null}],"properties":{"cnr_id":"comfyui-jakeupgrade","ver":"28fbdd2ee9ddecec9c5866c55867f6e70201611d","Node name for S&R":"CR Image Input Switch JK"},"widgets_values":[false]},{"id":12,"type":"ETN_KritaOutput","pos":[120,-280],"size":[200,100],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":27}],"outputs":[],"properties":{"cnr_id":"comfyui-tooling-nodes","ver":"ca2b59248ece910579b55a1512b0a846928259ea","Node name for S&R":"ETN_KritaOutput"},"widgets_values":[]},{"id":15,"type":"ETN_KritaImageLayer","pos":[-480,-330],"size":[315,78],"flags":{"collapsed":true},"order":0,"mode":0,"inputs":[{"localized_name":"name","name":"name","type":"STRING","widget":{"name":"name"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","slot_index":0,"links":[16]},{"localized_name":"mask","name":"mask","type":"MASK","links":null}],"properties":{"cnr_id":"comfyui-tooling-nodes","ver":"ca2b59248ece910579b55a1512b0a846928259ea","Node name for S&R":"ETN_KritaImageLayer"},"widgets_values":["11 Light Reference Layer"]},{"id":14,"type":"ETN_KritaImageLayer","pos":[-480,-370],"size":[315,78],"flags":{"collapsed":true},"order":1,"mode":0,"inputs":[{"localized_name":"name","name":"name","type":"STRING","widget":{"name":"name"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","slot_index":0,"links":[15]},{"localized_name":"mask","name":"mask","type":"MASK","links":null}],"properties":{"cnr_id":"comfyui-tooling-nodes","ver":"ca2b59248ece910579b55a1512b0a846928259ea","Node name for S&R":"ETN_KritaImageLayer"},"widgets_values":["10 BG Reference Layer"]},{"id":8,"type":"ETN_KritaImageLayer","pos":[-720,-230],"size":[315,78],"flags":{"collapsed":true},"order":2,"mode":0,"inputs":[{"localized_name":"name","name":"name","type":"STRING","widget":{"name":"name"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","slot_index":0,"links":[2]},{"localized_name":"mask","name":"mask","type":"MASK","links":null}],"properties":{"cnr_id":"comfyui-tooling-nodes","ver":"ca2b59248ece910579b55a1512b0a846928259ea","Node name for S&R":"ETN_KritaImageLayer"},"widgets_values":["09 Original Image Layer"]},{"id":9,"type":"ETN_Parameter","pos":[-720,-210],"size":[315,154],"flags":{"collapsed":true},"order":3,"mode":0,"inputs":[{"localized_name":"name","name":"name","type":"STRING","widget":{"name":"name"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"default","name":"default","type":"STRING","widget":{"name":"default"},"link":null},{"localized_name":"min","name":"min","shape":7,"type":"FLOAT","widget":{"name":"min"},"link":null},{"localized_name":"max","name":"max","shape":7,"type":"FLOAT","widget":{"name":"max"},"link":null}],"outputs":[{"localized_name":"value","name":"value","type":"BOOLEAN","slot_index":0,"links":[3]}],"title":"image layer","properties":{"cnr_id":"comfyui-tooling-nodes","ver":"ca2b59248ece910579b55a1512b0a846928259ea","Node name for S&R":"ETN_Parameter"},"widgets_values":["08 Krita Original Image Layer","toggle",false]},{"id":2,"type":"ETN_Parameter","pos":[-450,-150],"size":[315,154],"flags":{"collapsed":true},"order":4,"mode":0,"inputs":[{"localized_name":"name","name":"name","type":"STRING","widget":{"name":"name"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"default","name":"default","type":"STRING","widget":{"name":"default"},"link":null},{"localized_name":"min","name":"min","shape":7,"type":"FLOAT","widget":{"name":"min"},"link":null},{"localized_name":"max","name":"max","shape":7,"type":"FLOAT","widget":{"name":"max"},"link":null}],"outputs":[{"localized_name":"value","name":"value","type":"STRING","slot_index":0,"links":[19]}],"title":"foreground","properties":{"cnr_id":"comfyui-tooling-nodes","ver":"ca2b59248ece910579b55a1512b0a846928259ea","Node name for S&R":"ETN_Parameter"},"widgets_values":["01 foreground prompt","text",""]},{"id":3,"type":"ETN_Parameter","pos":[-450,-120],"size":[315,154],"flags":{"collapsed":true},"order":5,"mode":0,"inputs":[{"localized_name":"name","name":"name","type":"STRING","widget":{"name":"name"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"default","name":"default","type":"STRING","widget":{"name":"default"},"link":null},{"localized_name":"min","name":"min","shape":7,"type":"FLOAT","widget":{"name":"min"},"link":null},{"localized_name":"max","name":"max","shape":7,"type":"FLOAT","widget":{"name":"max"},"link":null}],"outputs":[{"localized_name":"value","name":"value","type":"STRING","slot_index":0,"links":[20]}],"title":"negative","properties":{"cnr_id":"comfyui-tooling-nodes","ver":"ca2b59248ece910579b55a1512b0a846928259ea","Node name for S&R":"ETN_Parameter"},"widgets_values":["02 negative","text",""]},{"id":4,"type":"ETN_Parameter","pos":[-450,-90],"size":[315,154],"flags":{"collapsed":true},"order":6,"mode":0,"inputs":[{"localized_name":"name","name":"name","type":"STRING","widget":{"name":"name"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"default","name":"default","type":"STRING","widget":{"name":"default"},"link":null},{"localized_name":"min","name":"min","shape":7,"type":"FLOAT","widget":{"name":"min"},"link":null},{"localized_name":"max","name":"max","shape":7,"type":"FLOAT","widget":{"name":"max"},"link":null}],"outputs":[{"localized_name":"value","name":"value","type":"STRING","slot_index":0,"links":[21]}],"title":"background","properties":{"cnr_id":"comfyui-tooling-nodes","ver":"ca2b59248ece910579b55a1512b0a846928259ea","Node name for S&R":"ETN_Parameter"},"widgets_values":["03 background prompt","text",""]},{"id":5,"type":"ETN_Parameter","pos":[-450,-60],"size":[315,154],"flags":{"collapsed":true},"order":7,"mode":0,"inputs":[{"localized_name":"name","name":"name","type":"STRING","widget":{"name":"name"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"default","name":"default","type":"STRING","widget":{"name":"default"},"link":null},{"localized_name":"min","name":"min","shape":7,"type":"FLOAT","widget":{"name":"min"},"link":null},{"localized_name":"max","name":"max","shape":7,"type":"FLOAT","widget":{"name":"max"},"link":null}],"outputs":[{"localized_name":"value","name":"value","type":"FLOAT","slot_index":0,"links":[22]}],"title":"preserve","properties":{"cnr_id":"comfyui-tooling-nodes","ver":"ca2b59248ece910579b55a1512b0a846928259ea","Node name for S&R":"ETN_Parameter"},"widgets_values":["04 preserve original subject","number",0.6,0,1]},{"id":6,"type":"ETN_Parameter","pos":[-450,-30],"size":[315,154],"flags":{"collapsed":true},"order":8,"mode":0,"inputs":[{"localized_name":"name","name":"name","type":"STRING","widget":{"name":"name"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"default","name":"default","type":"STRING","widget":{"name":"default"},"link":null},{"localized_name":"min","name":"min","shape":7,"type":"FLOAT","widget":{"name":"min"},"link":null},{"localized_name":"max","name":"max","shape":7,"type":"FLOAT","widget":{"name":"max"},"link":null}],"outputs":[{"localized_name":"value","name":"value","type":"FLOAT","slot_index":0,"links":[23]}],"title":"original","properties":{"cnr_id":"comfyui-tooling-nodes","ver":"ca2b59248ece910579b55a1512b0a846928259ea","Node name for S&R":"ETN_Parameter"},"widgets_values":["05 original bg depth","number",0.5,0,1]},{"id":7,"type":"ETN_Parameter","pos":[-450,0],"size":[315,154],"flags":{"collapsed":true},"order":9,"mode":0,"inputs":[{"localized_name":"name","name":"name","type":"STRING","widget":{"name":"name"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"default","name":"default","type":"STRING","widget":{"name":"default"},"link":null},{"localized_name":"min","name":"min","shape":7,"type":"FLOAT","widget":{"name":"min"},"link":null},{"localized_name":"max","name":"max","shape":7,"type":"FLOAT","widget":{"name":"max"},"link":null}],"outputs":[{"localized_name":"value","name":"value","type":"BOOLEAN","slot_index":0,"links":[24]}],"title":"keep","properties":{"cnr_id":"comfyui-tooling-nodes","ver":"ca2b59248ece910579b55a1512b0a846928259ea","Node name for S&R":"ETN_Parameter"},"widgets_values":["06 keep original bg","toggle",false]},{"id":11,"type":"ETN_KritaCanvas","pos":[-950,-280],"size":[200,100],"flags":{},"order":10,"mode":0,"inputs":[],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","slot_index":0,"links":[1]},{"localized_name":"width","name":"width","type":"INT","links":null},{"localized_name":"height","name":"height","type":"INT","links":null},{"localized_name":"seed","name":"seed","type":"INT","slot_index":3,"links":[26]}],"properties":{"cnr_id":"comfyui-tooling-nodes","ver":"ca2b59248ece910579b55a1512b0a846928259ea","Node name for S&R":"ETN_KritaCanvas"},"widgets_values":[]},{"id":13,"type":"ETN_Parameter","pos":[-450,30],"size":[315,154],"flags":{"collapsed":true},"order":11,"mode":0,"inputs":[{"localized_name":"name","name":"name","type":"STRING","widget":{"name":"name"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"default","name":"default","type":"STRING","widget":{"name":"default"},"link":null},{"localized_name":"min","name":"min","shape":7,"type":"FLOAT","widget":{"name":"min"},"link":null},{"localized_name":"max","name":"max","shape":7,"type":"FLOAT","widget":{"name":"max"},"link":null}],"outputs":[{"localized_name":"value","name":"value","type":"FLOAT","slot_index":0,"links":[25]}],"title":"strength","properties":{"cnr_id":"comfyui-tooling-nodes","ver":"ca2b59248ece910579b55a1512b0a846928259ea","Node name for S&R":"ETN_Parameter"},"widgets_values":["07 light source strength","number",0.3,0,1]},{"id":1,"type":"Stability Replace Background and Relight","pos":[-270,-280],"size":[336,452],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"subject_image","name":"subject_image","type":"IMAGE","link":5},{"localized_name":"background_reference","name":"background_reference","shape":7,"type":"IMAGE","link":15},{"localized_name":"light_reference","name":"light_reference","shape":7,"type":"IMAGE","link":16},{"localized_name":"background_prompt","name":"background_prompt","shape":7,"type":"STRING","widget":{"name":"background_prompt"},"link":21},{"localized_name":"foreground_prompt","name":"foreground_prompt","shape":7,"type":"STRING","widget":{"name":"foreground_prompt"},"link":19},{"localized_name":"negative_prompt","name":"negative_prompt","shape":7,"type":"STRING","widget":{"name":"negative_prompt"},"link":20},{"localized_name":"preserve_original_subject","name":"preserve_original_subject","shape":7,"type":"FLOAT","widget":{"name":"preserve_original_subject"},"link":22},{"localized_name":"original_background_depth","name":"original_background_depth","shape":7,"type":"FLOAT","widget":{"name":"original_background_depth"},"link":23},{"localized_name":"keep_original_background","name":"keep_original_background","shape":7,"type":"BOOLEAN","widget":{"name":"keep_original_background"},"link":24},{"localized_name":"light_source_direction","name":"light_source_direction","shape":7,"type":"COMBO","widget":{"name":"light_source_direction"},"link":null},{"localized_name":"light_source_strength","name":"light_source_strength","shape":7,"type":"FLOAT","widget":{"name":"light_source_strength"},"link":25},{"localized_name":"seed","name":"seed","shape":7,"type":"INT","widget":{"name":"seed"},"link":26},{"localized_name":"output_format","name":"output_format","shape":7,"type":"COMBO","widget":{"name":"output_format"},"link":null},{"localized_name":"api_key_override","name":"api_key_override","shape":7,"type":"STRING","widget":{"name":"api_key_override"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[27]}],"properties":{"cnr_id":"sai-api","ver":"6c0e3a21639304755861fd7d5865580d986eb3e3","Node name for S&R":"Stability Replace Background and Relight"},"widgets_values":["","","",0.6,0.5,false,"none",0.3,3004103823,"randomize","png",""]}],"links":[[1,11,0,10,0,"IMAGE"],[2,8,0,10,1,"IMAGE"],[3,9,0,10,2,"BOOLEAN"],[5,10,0,1,0,"IMAGE"],[15,14,0,1,1,"IMAGE"],[16,15,0,1,2,"IMAGE"],[19,2,0,1,4,"STRING"],[20,3,0,1,5,"STRING"],[21,4,0,1,3,"STRING"],[22,5,0,1,6,"FLOAT"],[23,6,0,1,7,"FLOAT"],[24,7,0,1,8,"BOOLEAN"],[25,13,0,1,10,"FLOAT"],[26,11,3,1,11,"INT"],[27,1,0,12,0,"IMAGE"]],"groups":[],"config":{},"extra":{"ds":{"scale":1.3231400193467524,"offset":[582.8789872509024,688.5531816806725]},"workspace_info":{"id":"oxP9ECkgS85L_y5_5vPjP","saveLock":false,"cloudID":null,"coverMediaPath":null}},"version":0.4}