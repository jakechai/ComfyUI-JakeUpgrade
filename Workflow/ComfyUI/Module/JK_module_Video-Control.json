{"id":"00000000-0000-0000-0000-000000000000","revision":0,"last_node_id":159,"last_link_id":188,"nodes":[{"id":1,"type":"ImageCompositeMasked","pos":[870,1080],"size":[210,146],"flags":{},"order":96,"mode":4,"inputs":[{"localized_name":"destination","name":"destination","type":"IMAGE","link":1},{"localized_name":"source","name":"source","type":"IMAGE","link":2},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":3},{"localized_name":"x","name":"x","type":"INT","widget":{"name":"x"},"link":null},{"localized_name":"y","name":"y","type":"INT","widget":{"name":"y"},"link":null},{"localized_name":"resize_source","name":"resize_source","type":"BOOLEAN","widget":{"name":"resize_source"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[12]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.30","Node name for S&R":"ImageCompositeMasked"},"widgets_values":[0,0,false]},{"id":2,"type":"ImageBlend","pos":[640,-130],"size":[210,102],"flags":{},"order":77,"mode":4,"inputs":[{"localized_name":"image1","name":"image1","type":"IMAGE","link":4},{"localized_name":"image2","name":"image2","type":"IMAGE","link":5},{"localized_name":"blend_factor","name":"blend_factor","type":"FLOAT","widget":{"name":"blend_factor"},"link":null},{"localized_name":"blend_mode","name":"blend_mode","type":"COMBO","widget":{"name":"blend_mode"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.29","Node name for S&R":"ImageBlend"},"widgets_values":[0.5000000000000001,"screen"]},{"id":3,"type":"DepthAnythingV2Preprocessor","pos":[330,-130],"size":[280,82],"flags":{},"order":57,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":6},{"localized_name":"ckpt_name","name":"ckpt_name","shape":7,"type":"COMBO","widget":{"name":"ckpt_name"},"link":null},{"localized_name":"resolution","name":"resolution","shape":7,"type":"INT","widget":{"name":"resolution"},"link":7}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[4]}],"properties":{"cnr_id":"comfyui_controlnet_aux","ver":"83463c2e4b04e729268e57f638b4212e0da4badc","Node name for S&R":"DepthAnythingV2Preprocessor"},"widgets_values":["depth_anything_v2_vitl.pth",512]},{"id":4,"type":"AnyLineArtPreprocessor_aux","pos":[330,0],"size":[280,180],"flags":{},"order":58,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":8},{"localized_name":"merge_with_lineart","name":"merge_with_lineart","shape":7,"type":"COMBO","widget":{"name":"merge_with_lineart"},"link":null},{"localized_name":"resolution","name":"resolution","shape":7,"type":"INT","widget":{"name":"resolution"},"link":9},{"localized_name":"lineart_lower_bound","name":"lineart_lower_bound","shape":7,"type":"FLOAT","widget":{"name":"lineart_lower_bound"},"link":null},{"localized_name":"lineart_upper_bound","name":"lineart_upper_bound","shape":7,"type":"FLOAT","widget":{"name":"lineart_upper_bound"},"link":null},{"localized_name":"object_min_size","name":"object_min_size","shape":7,"type":"INT","widget":{"name":"object_min_size"},"link":null},{"localized_name":"object_connectivity","name":"object_connectivity","shape":7,"type":"INT","widget":{"name":"object_connectivity"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[5,15]}],"properties":{"cnr_id":"comfyui_controlnet_aux","ver":"83463c2e4b04e729268e57f638b4212e0da4badc","Node name for S&R":"AnyLineArtPreprocessor_aux"},"widgets_values":["lineart_realisitic",1280,0,1,36,1]},{"id":13,"type":"GetNode","pos":[130,1150],"size":[210,58],"flags":{"collapsed":true},"order":0,"mode":4,"inputs":[],"outputs":[{"name":"MASK","type":"MASK","links":[21]}],"title":"Get_Mask Video precise","properties":{},"widgets_values":["Mask Video precise"],"color":"#1c5715","bgcolor":"#1f401b"},{"id":14,"type":"GetNode","pos":[130,1170],"size":[210,58],"flags":{"collapsed":true},"order":1,"mode":4,"inputs":[],"outputs":[{"name":"MASK","type":"MASK","links":[22]}],"title":"Get_ Mask Video bbox","properties":{},"widgets_values":[" Mask Video bbox"],"color":"#1c5715","bgcolor":"#1f401b"},{"id":15,"type":"MaskToImage","pos":[610,1190],"size":[264.5999755859375,26],"flags":{"collapsed":true},"order":76,"mode":4,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":20}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[23]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.30","Node name for S&R":"MaskToImage"},"widgets_values":[]},{"id":16,"type":"ImpactSwitch","pos":[350,1120],"size":[220,122],"flags":{},"order":54,"mode":4,"inputs":[{"label":"1 precise","localized_name":"input1","name":"input1","shape":7,"type":"*","link":21},{"localized_name":"select","name":"select","type":"INT","widget":{"name":"select"},"link":null},{"localized_name":"sel_mode","name":"sel_mode","type":"BOOLEAN","widget":{"name":"sel_mode"},"link":null},{"label":"2 bbox","name":"input2","type":"MASK","link":22},{"name":"input3","type":"MASK","link":null}],"outputs":[{"label":"MASK","localized_name":"selected_value","name":"selected_value","type":"*","links":[3,20]},{"localized_name":"selected_label","name":"selected_label","type":"STRING","links":null},{"localized_name":"selected_index","name":"selected_index","type":"INT","links":null}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"8.8.1","Node name for S&R":"ImpactSwitch"},"widgets_values":[1,false],"color":"#223","bgcolor":"#335"},{"id":17,"type":"GetNode","pos":[680,1110],"size":[210,58],"flags":{"collapsed":true},"order":2,"mode":4,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1]}],"title":"Get_Ref Video","properties":{},"widgets_values":["Ref Video"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":18,"type":"Color Grading JK","pos":[610,1230],"size":[220,180],"flags":{},"order":88,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":23},{"localized_name":"brightness","name":"brightness","type":"FLOAT","widget":{"name":"brightness"},"link":null},{"localized_name":"contrast","name":"contrast","type":"FLOAT","widget":{"name":"contrast"},"link":null},{"localized_name":"saturation","name":"saturation","type":"FLOAT","widget":{"name":"saturation"},"link":null},{"localized_name":"R","name":"R","type":"INT","widget":{"name":"R"},"link":null},{"localized_name":"G","name":"G","type":"INT","widget":{"name":"G"},"link":null},{"localized_name":"B","name":"B","type":"INT","widget":{"name":"B"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[2]}],"properties":{"cnr_id":"comfyui-jakeupgrade","ver":"8bb0ed75932cdc623b07d7313306ea3d72c8f778","Node name for S&R":"Color Grading JK"},"widgets_values":[0.5000000000000001,1.0000000000000002,1,0,0,0]},{"id":21,"type":"OpenposePreprocessor","pos":[330,500],"size":[280,174],"flags":{},"order":59,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":24},{"localized_name":"detect_hand","name":"detect_hand","shape":7,"type":"COMBO","widget":{"name":"detect_hand"},"link":null},{"localized_name":"detect_body","name":"detect_body","shape":7,"type":"COMBO","widget":{"name":"detect_body"},"link":null},{"localized_name":"detect_face","name":"detect_face","shape":7,"type":"COMBO","widget":{"name":"detect_face"},"link":null},{"localized_name":"resolution","name":"resolution","shape":7,"type":"INT","widget":{"name":"resolution"},"link":25},{"localized_name":"scale_stick_for_xinsr_cn","name":"scale_stick_for_xinsr_cn","shape":7,"type":"COMBO","widget":{"name":"scale_stick_for_xinsr_cn"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[29]},{"localized_name":"POSE_KEYPOINT","name":"POSE_KEYPOINT","type":"POSE_KEYPOINT","links":null}],"properties":{"cnr_id":"comfyui_controlnet_aux","ver":"83463c2e4b04e729268e57f638b4212e0da4badc","Node name for S&R":"OpenposePreprocessor"},"widgets_values":["disable","disable","enable",512,"disable"]},{"id":22,"type":"DWPreprocessor","pos":[330,230],"size":[280,222],"flags":{},"order":60,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":26},{"localized_name":"detect_hand","name":"detect_hand","shape":7,"type":"COMBO","widget":{"name":"detect_hand"},"link":null},{"localized_name":"detect_body","name":"detect_body","shape":7,"type":"COMBO","widget":{"name":"detect_body"},"link":null},{"localized_name":"detect_face","name":"detect_face","shape":7,"type":"COMBO","widget":{"name":"detect_face"},"link":null},{"localized_name":"resolution","name":"resolution","shape":7,"type":"INT","widget":{"name":"resolution"},"link":27},{"localized_name":"bbox_detector","name":"bbox_detector","shape":7,"type":"COMBO","widget":{"name":"bbox_detector"},"link":null},{"localized_name":"pose_estimator","name":"pose_estimator","shape":7,"type":"COMBO","widget":{"name":"pose_estimator"},"link":null},{"localized_name":"scale_stick_for_xinsr_cn","name":"scale_stick_for_xinsr_cn","shape":7,"type":"COMBO","widget":{"name":"scale_stick_for_xinsr_cn"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[28]},{"localized_name":"POSE_KEYPOINT","name":"POSE_KEYPOINT","type":"POSE_KEYPOINT","links":null}],"properties":{"cnr_id":"comfyui_controlnet_aux","ver":"83463c2e4b04e729268e57f638b4212e0da4badc","Node name for S&R":"DWPreprocessor"},"widgets_values":["enable","enable","enable",512,"yolox_l.onnx","dw-ll_ucoco_384_bs5.torchscript.pt","disable"]},{"id":23,"type":"Note","pos":[660,230],"size":[210,88],"flags":{},"order":3,"mode":4,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Fun supports a combined control video using the blend mode.\nVACE supports multiple unique control videos."],"color":"#432","bgcolor":"#653"},{"id":24,"type":"Note","pos":[660,470],"size":[210,130],"flags":{},"order":4,"mode":4,"inputs":[],"outputs":[],"properties":{},"widgets_values":["If the character turns his back to the camera, you can use OpenPose to get more accurate facial data. This node can be used to merge the results of DWPose and OpenPose. At this time, you can turn off DW's facial data."],"color":"#432","bgcolor":"#653"},{"id":25,"type":"OpenDWPose_JK","pos":[660,380],"size":[210,46],"flags":{},"order":79,"mode":4,"inputs":[{"localized_name":"DWPose","name":"DWPose","type":"IMAGE","link":28},{"localized_name":"OpenPose","name":"OpenPose","type":"IMAGE","link":29}],"outputs":[{"localized_name":"pose_image","name":"pose_image","type":"IMAGE","links":null}],"properties":{"cnr_id":"comfyui-jakeupgrade","ver":"8bb0ed75932cdc623b07d7313306ea3d72c8f778","Node name for S&R":"OpenDWPose_JK"},"widgets_values":[]},{"id":37,"type":"CM_IntToFloat JK","pos":[-440,-270],"size":[315,58],"flags":{"collapsed":true},"order":65,"mode":0,"inputs":[{"localized_name":"a","name":"a","type":"INT","widget":{"name":"a"},"link":35}],"outputs":[{"localized_name":"FLOAT","name":"FLOAT","type":"FLOAT","links":[36]}],"properties":{"cnr_id":"comfyui-jakeupgrade","ver":"8bb0ed75932cdc623b07d7313306ea3d72c8f778","Node name for S&R":"CM_IntToFloat JK"},"widgets_values":[0]},{"id":38,"type":"SetNode","pos":[-240,-270],"size":[210,58],"flags":{"collapsed":true},"order":80,"mode":0,"inputs":[{"name":"FLOAT","type":"FLOAT","link":36}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_Project FPS","properties":{"previousName":""},"widgets_values":["Project FPS"],"color":"#232","bgcolor":"#353"},{"id":39,"type":"SetNode","pos":[-240,-170],"size":[210,58],"flags":{"collapsed":true},"order":66,"mode":0,"inputs":[{"name":"INT","type":"INT","link":76}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_Project Frame Count","properties":{"previousName":""},"widgets_values":["Project Frame Count"],"color":"#1b4669","bgcolor":"#29699c"},{"id":40,"type":"SetNode","pos":[-240,-50],"size":[210,58],"flags":{"collapsed":true},"order":64,"mode":0,"inputs":[{"name":"INT","type":"INT","link":38}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_Project Width","properties":{"previousName":""},"widgets_values":["Project Width"],"color":"#1b4669","bgcolor":"#29699c"},{"id":41,"type":"SetNode","pos":[-240,70],"size":[210,58],"flags":{"collapsed":true},"order":74,"mode":0,"inputs":[{"name":"INT","type":"INT","link":39}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_Project Height","properties":{"previousName":""},"widgets_values":["Project Height"],"color":"#1b4669","bgcolor":"#29699c"},{"id":33,"type":"SetNode","pos":[-230,1580],"size":[210,58],"flags":{"collapsed":true},"order":89,"mode":0,"inputs":[{"name":"MASK","type":"MASK","link":33}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_Mask Video precise","properties":{"previousName":""},"widgets_values":["Mask Video precise"],"color":"#1c5715","bgcolor":"#1f401b"},{"id":36,"type":"SetNode","pos":[-230,2560],"size":[210,58],"flags":{"collapsed":true},"order":90,"mode":0,"inputs":[{"name":"MASK","type":"MASK","link":34}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_ Mask Video bbox","properties":{"previousName":""},"widgets_values":[" Mask Video bbox"],"color":"#1c5715","bgcolor":"#1f401b"},{"id":46,"type":"Label (rgthree)","pos":[-1100,2420],"size":[249.0749969482422,24],"flags":{"allow_interaction":true},"order":5,"mode":0,"inputs":[],"outputs":[],"title":"Load Video Mask BBox","properties":{"fontSize":24,"fontFamily":"Arial","fontColor":"#ffffff","textAlign":"left","backgroundColor":"transparent","padding":0,"borderRadius":0,"angle":0},"color":"#fff0","bgcolor":"#fff0"},{"id":48,"type":"Label (rgthree)","pos":[-1040,250],"size":[121.0250015258789,24],"flags":{"allow_interaction":true},"order":6,"mode":0,"inputs":[],"outputs":[],"title":"Load Video","properties":{"fontSize":24,"fontFamily":"Arial","fontColor":"#ffffff","textAlign":"left","backgroundColor":"transparent","padding":0,"borderRadius":0,"angle":0},"color":"#fff0","bgcolor":"#fff0"},{"id":47,"type":"Label (rgthree)","pos":[-1120,1440],"size":[271.75,24],"flags":{"allow_interaction":true},"order":7,"mode":0,"inputs":[],"outputs":[],"title":"Load Video Mask Presize","properties":{"fontSize":24,"fontFamily":"Arial","fontColor":"#ffffff","textAlign":"left","backgroundColor":"transparent","padding":0,"borderRadius":0,"angle":0},"color":"#fff0","bgcolor":"#fff0"},{"id":9,"type":"GetNode","pos":[1090,1190],"size":[210,58],"flags":{"collapsed":true},"order":8,"mode":4,"inputs":[],"outputs":[{"name":"FLOAT","type":"FLOAT","links":[14]}],"title":"Get_Project FPS","properties":{},"widgets_values":["Project FPS"],"color":"#232","bgcolor":"#353"},{"id":6,"type":"GetNode","pos":[1080,110],"size":[210,58],"flags":{"collapsed":true},"order":9,"mode":4,"inputs":[],"outputs":[{"name":"FLOAT","type":"FLOAT","links":[16]}],"title":"Get_Project FPS","properties":{},"widgets_values":["Project FPS"],"color":"#232","bgcolor":"#353"},{"id":11,"type":"VHS_VideoCombine","pos":[1270,0],"size":[290,334],"flags":{},"order":78,"mode":4,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":15},{"localized_name":"audio","name":"audio","shape":7,"type":"AUDIO","link":null},{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"frame_rate","name":"frame_rate","type":"FLOAT","widget":{"name":"frame_rate"},"link":16},{"localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"pingpong","name":"pingpong","type":"BOOLEAN","widget":{"name":"pingpong"},"link":null},{"localized_name":"save_output","name":"save_output","type":"BOOLEAN","widget":{"name":"save_output"},"link":null},{"name":"pix_fmt","type":["yuv420p","yuv420p10le"],"widget":{"name":"pix_fmt"},"link":null},{"name":"crf","type":"INT","widget":{"name":"crf"},"link":null},{"name":"save_metadata","type":"BOOLEAN","widget":{"name":"save_metadata"},"link":null},{"name":"trim_to_audio","type":"BOOLEAN","widget":{"name":"trim_to_audio"},"link":null}],"outputs":[{"localized_name":"Filenames","name":"Filenames","type":"VHS_FILENAMES","links":null}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"df55f01d1df2f7bf5cc772294bc2e6d8bab22d66","Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":16,"loop_count":0,"filename_prefix":"VideoControl_","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":19,"save_metadata":false,"trim_to_audio":false,"pingpong":false,"save_output":false,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"VideoControl__00001.mp4","subfolder":"","type":"temp","format":"video/h264-mp4","frame_rate":16,"workflow":"VideoControl__00001.png","fullpath":"I:\\ComfyUI_Video\\ComfyUI\\temp\\VideoControl__00001.mp4"}}}},{"id":20,"type":"GetNode","pos":[130,80],"size":[210,58],"flags":{"collapsed":true},"order":10,"mode":4,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[7,9,25,27,52,53]}],"title":"Get_Project Width","properties":{},"widgets_values":["Project Width"],"color":"#1b4669","bgcolor":"#29699c"},{"id":55,"type":"CannyEdgePreprocessor","pos":[330,720],"size":[280,106],"flags":{},"order":56,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":null},{"localized_name":"low_threshold","name":"low_threshold","shape":7,"type":"INT","widget":{"name":"low_threshold"},"link":null},{"localized_name":"high_threshold","name":"high_threshold","shape":7,"type":"INT","widget":{"name":"high_threshold"},"link":null},{"localized_name":"resolution","name":"resolution","shape":7,"type":"INT","widget":{"name":"resolution"},"link":53}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":null}],"properties":{"cnr_id":"comfyui_controlnet_aux","ver":"83463c2e4b04e729268e57f638b4212e0da4badc","Node name for S&R":"CannyEdgePreprocessor"},"widgets_values":[100,200,512]},{"id":54,"type":"HEDPreprocessor","pos":[330,870],"size":[280,82],"flags":{},"order":55,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":null},{"localized_name":"safe","name":"safe","shape":7,"type":"COMBO","widget":{"name":"safe"},"link":null},{"localized_name":"resolution","name":"resolution","shape":7,"type":"INT","widget":{"name":"resolution"},"link":52}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":null}],"properties":{"cnr_id":"comfyui_controlnet_aux","ver":"83463c2e4b04e729268e57f638b4212e0da4badc","Node name for S&R":"HEDPreprocessor"},"widgets_values":["enable",512]},{"id":56,"type":"Note","pos":[660,780],"size":[210,88],"flags":{},"order":11,"mode":4,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Canny and HED are for Dilated ControlNet."],"color":"#432","bgcolor":"#653"},{"id":29,"type":"GetNode","pos":[-1350,550],"size":[210,58],"flags":{"collapsed":true},"order":12,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[]}],"title":"Get_Project Frame Count","properties":{},"widgets_values":["Project Frame Count"],"color":"#1b4669","bgcolor":"#29699c"},{"id":59,"type":"GetNode","pos":[-1370,1740],"size":[210,50],"flags":{"collapsed":true},"order":13,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[]}],"title":"Get_Project Frame Count","properties":{},"widgets_values":["Project Frame Count"],"color":"#1b4669","bgcolor":"#29699c"},{"id":60,"type":"GetNode","pos":[-1360,2720],"size":[210,50],"flags":{"collapsed":true},"order":14,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[]}],"title":"Get_Project Frame Count","properties":{},"widgets_values":["Project Frame Count"],"color":"#1b4669","bgcolor":"#29699c"},{"id":61,"type":"GetNode","pos":[-800,430],"size":[210,34],"flags":{"collapsed":true},"order":15,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[174]}],"title":"Get_Project Width","properties":{},"widgets_values":["Project Width"],"color":"#1b4669","bgcolor":"#29699c"},{"id":63,"type":"GetNode","pos":[-800,450],"size":[210,34],"flags":{"collapsed":true},"order":16,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[175]}],"title":"Get_Project Height","properties":{},"widgets_values":["Project Height"],"color":"#1b4669","bgcolor":"#29699c"},{"id":30,"type":"SetNode","pos":[-220,370],"size":[210,58],"flags":{"collapsed":true},"order":81,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":176}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[]}],"title":"Set_Ref Video","properties":{"previousName":""},"widgets_values":["Ref Video"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":66,"type":"GetNode","pos":[-810,1620],"size":[210,34],"flags":{"collapsed":true},"order":17,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[182]}],"title":"Get_Project Width","properties":{},"widgets_values":["Project Width"],"color":"#1b4669","bgcolor":"#29699c"},{"id":68,"type":"GetNode","pos":[-810,1640],"size":[210,34],"flags":{"collapsed":true},"order":18,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[183]}],"title":"Get_Project Height","properties":{},"widgets_values":["Project Height"],"color":"#1b4669","bgcolor":"#29699c"},{"id":32,"type":"ImageToMask","pos":[-230,1560],"size":[315,58],"flags":{"collapsed":true},"order":82,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":184},{"localized_name":"channel","name":"channel","type":"COMBO","widget":{"name":"channel"},"link":null}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","links":[33]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.30","Node name for S&R":"ImageToMask"},"widgets_values":["red"]},{"id":71,"type":"GetNode","pos":[-810,2600],"size":[210,34],"flags":{"collapsed":true},"order":19,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[186]}],"title":"Get_Project Width","properties":{},"widgets_values":["Project Width"],"color":"#1b4669","bgcolor":"#29699c"},{"id":73,"type":"GetNode","pos":[-810,2620],"size":[210,34],"flags":{"collapsed":true},"order":20,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[187]}],"title":"Get_Project Height","properties":{},"widgets_values":["Project Height"],"color":"#1b4669","bgcolor":"#29699c"},{"id":35,"type":"ImageToMask","pos":[-230,2540],"size":[315,58],"flags":{"collapsed":true},"order":83,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":188},{"localized_name":"channel","name":"channel","type":"COMBO","widget":{"name":"channel"},"link":null}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","links":[34]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.30","Node name for S&R":"ImageToMask"},"widgets_values":["red"]},{"id":85,"type":"PoseDetectionVitPoseToDWPose","pos":[1980,1620],"size":[273.2000030517578,46],"flags":{},"order":63,"mode":4,"inputs":[{"localized_name":"vitpose_model","name":"vitpose_model","type":"POSEMODEL","link":83},{"localized_name":"images","name":"images","type":"IMAGE","link":100}],"outputs":[{"localized_name":"dw_poses","name":"dw_poses","type":"DWPOSES","links":[89]}],"properties":{"cnr_id":"comfyui-scail-pose","ver":"93059f0fe4ea3881c0d6ec0e327e5d920554277d","Node name for S&R":"PoseDetectionVitPoseToDWPose","aux_id":"kijai/ComfyUI-SCAIL-Pose"},"widgets_values":[]},{"id":19,"type":"GetNode","pos":[130,30],"size":[210,58],"flags":{"collapsed":true},"order":21,"mode":4,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6,8,24,26]}],"title":"Get_Ref Video","properties":{},"widgets_values":["Ref Video"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":87,"type":"GetNode","pos":[2040,1810],"size":[210,50],"flags":{"collapsed":true},"order":22,"mode":4,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[103]}],"title":"Get_Project Width","properties":{},"widgets_values":["Project Width"],"color":"#1b4669","bgcolor":"#29699c"},{"id":100,"type":"CM_IntBinaryOperation JK","pos":[2040,1830],"size":[273.04999389648435,106],"flags":{"collapsed":true},"order":61,"mode":4,"inputs":[{"localized_name":"op","name":"op","type":"COMBO","widget":{"name":"op"},"link":null},{"localized_name":"a","name":"a","type":"INT","widget":{"name":"a"},"link":103},{"localized_name":"b","name":"b","type":"INT","widget":{"name":"b"},"link":null}],"outputs":[{"localized_name":"INT","name":"INT","type":"INT","links":[104]}],"properties":{"cnr_id":"comfyui-jakeupgrade","ver":"b08886644e03dde6f876973811526238ee8f684e","Node name for S&R":"CM_IntBinaryOperation JK"},"widgets_values":["Div",0,2]},{"id":101,"type":"CM_IntBinaryOperation JK","pos":[2040,1850],"size":[273.04999389648435,106],"flags":{"collapsed":true},"order":62,"mode":4,"inputs":[{"localized_name":"op","name":"op","type":"COMBO","widget":{"name":"op"},"link":null},{"localized_name":"a","name":"a","type":"INT","widget":{"name":"a"},"link":105},{"localized_name":"b","name":"b","type":"INT","widget":{"name":"b"},"link":null}],"outputs":[{"localized_name":"INT","name":"INT","type":"INT","links":[106]}],"properties":{"cnr_id":"comfyui-jakeupgrade","ver":"b08886644e03dde6f876973811526238ee8f684e","Node name for S&R":"CM_IntBinaryOperation JK"},"widgets_values":["Div",0,2]},{"id":89,"type":"GetNode","pos":[2040,1870],"size":[210,50],"flags":{"collapsed":true},"order":23,"mode":4,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[105]}],"title":"Get_Project Height","properties":{},"widgets_values":["Project Height"],"color":"#1b4669","bgcolor":"#29699c"},{"id":93,"type":"NLFPredict","pos":[1980,1490],"size":[270,78],"flags":{},"order":72,"mode":4,"inputs":[{"localized_name":"model","name":"model","type":"NLFMODEL","link":163},{"localized_name":"images","name":"images","type":"IMAGE","link":99},{"localized_name":"per_batch","name":"per_batch","shape":7,"type":"INT","widget":{"name":"per_batch"},"link":null}],"outputs":[{"localized_name":"pose_results","name":"pose_results","type":"NLFPRED","links":[88]},{"localized_name":"bboxes","name":"bboxes","type":"BBOX","links":null}],"properties":{"cnr_id":"ComfyUI-WanVideoWrapper","ver":"4a3ab6958a5d9650eb4e3c2eb1753c2d7c5b77c6","Node name for S&R":"NLFPredict"},"widgets_values":[-1]},{"id":94,"type":"MarkdownNote","pos":[2320,1780],"size":[270,230],"flags":{},"order":24,"mode":4,"inputs":[],"outputs":[],"title":"Pose input info","properties":{},"widgets_values":["## IMPORTANT\n\nThe model uses downsampled poses, pose resolution needs to be **half** if the generation resolution. \n\nThat is automatically calculated here and the pose is rendered to the target resolution directly.\n\ndw_poses are optional and are used to draw face/hands as well as aligning the pose to the reference image.\n\nYou can disable the drawing and the alignment is still done if dw_poses are connected, to disable alignment disconnect them.\n"],"color":"#432","bgcolor":"#653"},{"id":96,"type":"GetNode","pos":[1750,1540],"size":[210,50],"flags":{"collapsed":true},"order":25,"mode":4,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[99,100]}],"title":"Get_Ref Video","properties":{},"widgets_values":["Ref Video"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":82,"type":"OnnxDetectionModelLoader","pos":[1630,1620],"size":[280,106],"flags":{},"order":26,"mode":4,"inputs":[{"localized_name":"vitpose_model","name":"vitpose_model","type":"COMBO","widget":{"name":"vitpose_model"},"link":null},{"localized_name":"yolo_model","name":"yolo_model","type":"COMBO","widget":{"name":"yolo_model"},"link":null},{"localized_name":"onnx_device","name":"onnx_device","type":"COMBO","widget":{"name":"onnx_device"},"link":null}],"outputs":[{"localized_name":"model","name":"model","type":"POSEMODEL","links":[83,84]}],"properties":{"cnr_id":"ComfyUI-WanAnimatePreprocess","ver":"74f834b9ecec0e9f48535ab2ec95219f5288018a","Node name for S&R":"OnnxDetectionModelLoader","aux_id":"kijai/ComfyUI-WanAnimatePreprocess"},"widgets_values":["vitpose_h_wholebody_model.onnx","onnx\\yolov10m.onnx","CUDAExecutionProvider"]},{"id":10,"type":"VHS_VideoCombine","pos":[1270,1080],"size":[290,334],"flags":{},"order":99,"mode":4,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":12},{"localized_name":"audio","name":"audio","shape":7,"type":"AUDIO","link":null},{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"frame_rate","name":"frame_rate","type":"FLOAT","widget":{"name":"frame_rate"},"link":14},{"localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"pingpong","name":"pingpong","type":"BOOLEAN","widget":{"name":"pingpong"},"link":null},{"localized_name":"save_output","name":"save_output","type":"BOOLEAN","widget":{"name":"save_output"},"link":null},{"name":"pix_fmt","type":["yuv420p","yuv420p10le"],"widget":{"name":"pix_fmt"},"link":null},{"name":"crf","type":"INT","widget":{"name":"crf"},"link":null},{"name":"save_metadata","type":"BOOLEAN","widget":{"name":"save_metadata"},"link":null},{"name":"trim_to_audio","type":"BOOLEAN","widget":{"name":"trim_to_audio"},"link":null}],"outputs":[{"localized_name":"Filenames","name":"Filenames","type":"VHS_FILENAMES","links":null}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"a7ce59e381934733bfae03b1be029756d6ce936d","Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":16,"loop_count":0,"filename_prefix":"VideoControl_VACE_inpaint","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":19,"save_metadata":false,"trim_to_audio":false,"pingpong":false,"save_output":false,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"VideoControl_VACE_inpaint_00001.mp4","subfolder":"","type":"temp","format":"video/h264-mp4","frame_rate":16,"workflow":"VideoControl_VACE_inpaint_00001.png","fullpath":"I:\\ComfyUI_Video\\ComfyUI\\temp\\VideoControl_VACE_inpaint_00001.mp4"}}}},{"id":110,"type":"OnnxDetectionModelLoader","pos":[1870,-110],"size":[310,106],"flags":{},"order":27,"mode":4,"inputs":[{"localized_name":"vitpose_model","name":"vitpose_model","type":"COMBO","widget":{"name":"vitpose_model"},"link":null},{"localized_name":"yolo_model","name":"yolo_model","type":"COMBO","widget":{"name":"yolo_model"},"link":null},{"localized_name":"onnx_device","name":"onnx_device","type":"COMBO","widget":{"name":"onnx_device"},"link":null}],"outputs":[{"localized_name":"model","name":"model","type":"POSEMODEL","links":[125]}],"properties":{"cnr_id":"ComfyUI-WanAnimatePreprocess","ver":"e63d6e71ae4c271f3f81211a7ca7f87607b7e50d","Node name for S&R":"OnnxDetectionModelLoader","aux_id":"kijai/ComfyUI-WanAnimatePreprocess"},"widgets_values":["vitpose_h_wholebody_model.onnx","onnx\\yolov10m.onnx","CUDAExecutionProvider"]},{"id":108,"type":"DrawMaskOnImage","pos":[2860,190],"size":[270,102],"flags":{},"order":101,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":114},{"localized_name":"mask","name":"mask","type":"MASK","link":140},{"localized_name":"color","name":"color","type":"STRING","widget":{"name":"color"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"images","name":"images","type":"IMAGE","links":[138]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"623b5913dc7f240fd8b26422e99f8849a21c5473","Node name for S&R":"DrawMaskOnImage"},"widgets_values":["0, 0, 0","cpu"]},{"id":127,"type":"VHS_VideoCombine","pos":[2530,380],"size":[287.28398784391584,334],"flags":{},"order":97,"mode":4,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":137},{"localized_name":"audio","name":"audio","shape":7,"type":"AUDIO","link":null},{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"frame_rate","name":"frame_rate","type":"FLOAT","widget":{"name":"frame_rate"},"link":143},{"localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"pingpong","name":"pingpong","type":"BOOLEAN","widget":{"name":"pingpong"},"link":null},{"localized_name":"save_output","name":"save_output","type":"BOOLEAN","widget":{"name":"save_output"},"link":null},{"name":"pix_fmt","type":["yuv420p","yuv420p10le"],"widget":{"name":"pix_fmt"},"link":null},{"name":"crf","type":"INT","widget":{"name":"crf"},"link":null},{"name":"save_metadata","type":"BOOLEAN","widget":{"name":"save_metadata"},"link":null},{"name":"trim_to_audio","type":"BOOLEAN","widget":{"name":"trim_to_audio"},"link":null}],"outputs":[{"localized_name":"Filenames","name":"Filenames","type":"VHS_FILENAMES","links":null}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"0a75c7958fe320efcb052f1d9f8451fd20c730a8","Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":30,"loop_count":0,"filename_prefix":"wananim_pose","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":19,"save_metadata":false,"trim_to_audio":false,"pingpong":false,"save_output":false,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"wananim_pose_00009.mp4","subfolder":"","type":"temp","format":"video/h264-mp4","frame_rate":30,"workflow":"wananim_pose_00009.png","fullpath":"I:\\ComfyUI_Video\\ComfyUI\\temp\\wananim_pose_00009.mp4"}}}},{"id":128,"type":"VHS_VideoCombine","pos":[2850,380],"size":[287.28398784391584,334],"flags":{},"order":103,"mode":4,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":138},{"localized_name":"audio","name":"audio","shape":7,"type":"AUDIO","link":null},{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"frame_rate","name":"frame_rate","type":"FLOAT","widget":{"name":"frame_rate"},"link":144},{"localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"pingpong","name":"pingpong","type":"BOOLEAN","widget":{"name":"pingpong"},"link":null},{"localized_name":"save_output","name":"save_output","type":"BOOLEAN","widget":{"name":"save_output"},"link":null},{"name":"pix_fmt","type":["yuv420p","yuv420p10le"],"widget":{"name":"pix_fmt"},"link":null},{"name":"crf","type":"INT","widget":{"name":"crf"},"link":null},{"name":"save_metadata","type":"BOOLEAN","widget":{"name":"save_metadata"},"link":null},{"name":"trim_to_audio","type":"BOOLEAN","widget":{"name":"trim_to_audio"},"link":null}],"outputs":[{"localized_name":"Filenames","name":"Filenames","type":"VHS_FILENAMES","links":null}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"0a75c7958fe320efcb052f1d9f8451fd20c730a8","Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":30,"loop_count":0,"filename_prefix":"wananim_bg","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":19,"save_metadata":false,"trim_to_audio":false,"pingpong":false,"save_output":false,"videopreview":{"hidden":false,"paused":true,"params":{"filename":"wananim_bg_00003.mp4","subfolder":"","type":"temp","format":"video/h264-mp4","frame_rate":30,"workflow":"wananim_bg_00003.png","fullpath":"I:\\ComfyUI_Video\\ComfyUI\\temp\\wananim_bg_00003.mp4"}}}},{"id":126,"type":"VHS_VideoCombine","pos":[2210,380],"size":[287.28398784391584,334],"flags":{},"order":94,"mode":4,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":135},{"localized_name":"audio","name":"audio","shape":7,"type":"AUDIO","link":null},{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"frame_rate","name":"frame_rate","type":"FLOAT","widget":{"name":"frame_rate"},"link":142},{"localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"pingpong","name":"pingpong","type":"BOOLEAN","widget":{"name":"pingpong"},"link":null},{"localized_name":"save_output","name":"save_output","type":"BOOLEAN","widget":{"name":"save_output"},"link":null},{"name":"pix_fmt","type":["yuv420p","yuv420p10le"],"widget":{"name":"pix_fmt"},"link":null},{"name":"crf","type":"INT","widget":{"name":"crf"},"link":null},{"name":"save_metadata","type":"BOOLEAN","widget":{"name":"save_metadata"},"link":null},{"name":"trim_to_audio","type":"BOOLEAN","widget":{"name":"trim_to_audio"},"link":null}],"outputs":[{"localized_name":"Filenames","name":"Filenames","type":"VHS_FILENAMES","links":null}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"0a75c7958fe320efcb052f1d9f8451fd20c730a8","Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":30,"loop_count":0,"filename_prefix":"wananim_face","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":19,"save_metadata":false,"trim_to_audio":false,"pingpong":false,"save_output":false,"videopreview":{"hidden":false,"paused":true,"params":{"filename":"wananim_face_00005.mp4","subfolder":"","type":"temp","format":"video/h264-mp4","frame_rate":30,"workflow":"wananim_face_00005.png","fullpath":"I:\\ComfyUI_Video\\ComfyUI\\temp\\wananim_face_00005.mp4"}}}},{"id":109,"type":"GetNode","pos":[2860,10],"size":[210,58],"flags":{"collapsed":true},"order":28,"mode":4,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[114]}],"title":"Get_Ref Video","properties":{},"widgets_values":["Ref Video"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":43,"type":"INTConstant","pos":[-490,-80],"size":[220,58],"flags":{},"order":29,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"INT","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"value","name":"value","type":"INT","links":[38]}],"title":"Video Width","properties":{"cnr_id":"comfyui-kjnodes","ver":"086ac449a21e9f5e3b970313c2287713b67e8b95","Node name for S&R":"INTConstant"},"widgets_values":[640],"color":"#223","bgcolor":"#335"},{"id":42,"type":"INTConstant","pos":[-490,-320],"size":[220,58],"flags":{},"order":30,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"INT","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"value","name":"value","type":"INT","links":[35]}],"title":"FPS","properties":{"cnr_id":"comfyui-kjnodes","ver":"086ac449a21e9f5e3b970313c2287713b67e8b95","Node name for S&R":"INTConstant"},"widgets_values":[30],"color":"#223","bgcolor":"#335"},{"id":76,"type":"Wan Frame Count JK","pos":[-490,-200],"size":[220,58],"flags":{},"order":31,"mode":0,"inputs":[{"localized_name":"frame_count","name":"frame_count","type":"INT","widget":{"name":"frame_count"},"link":null}],"outputs":[{"localized_name":"wan_frame_count","name":"wan_frame_count","type":"INT","links":[76]}],"properties":{"cnr_id":"comfyui-jakeupgrade","ver":"7902329c0a9c8811473f4e82206e42da6975698f","Node name for S&R":"Wan Frame Count JK"},"widgets_values":[245],"color":"#223","bgcolor":"#335"},{"id":28,"type":"VHS_LoadVideoPath","pos":[-1130,340],"size":[310,286],"flags":{},"order":32,"mode":0,"inputs":[{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"video","name":"video","type":"STRING","widget":{"name":"video"},"link":null},{"localized_name":"force_rate","name":"force_rate","type":"FLOAT","widget":{"name":"force_rate"},"link":null},{"localized_name":"custom_width","name":"custom_width","type":"INT","widget":{"name":"custom_width"},"link":null},{"localized_name":"custom_height","name":"custom_height","type":"INT","widget":{"name":"custom_height"},"link":null},{"localized_name":"frame_load_cap","name":"frame_load_cap","type":"INT","widget":{"name":"frame_load_cap"},"link":null},{"localized_name":"skip_first_frames","name":"skip_first_frames","type":"INT","widget":{"name":"skip_first_frames"},"link":null},{"localized_name":"select_every_nth","name":"select_every_nth","type":"INT","widget":{"name":"select_every_nth"},"link":null},{"localized_name":"format","name":"format","shape":7,"type":"COMBO","widget":{"name":"format"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[173]},{"localized_name":"frame_count","name":"frame_count","type":"INT","links":[]},{"localized_name":"audio","name":"audio","type":"AUDIO","links":null},{"localized_name":"video_info","name":"video_info","type":"VHS_VIDEOINFO","links":[]}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"598e181e97d50174cc18677dfcdaa7b9b6ec0cb2","Node name for S&R":"VHS_LoadVideoPath"},"widgets_values":{"video":"\"I:\\ComfyUI_Video\\ComfyUI\\input\\taichi_smpl.webm\"","force_rate":0,"custom_width":0,"custom_height":0,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1,"format":"Wan","videopreview":{"hidden":false,"paused":true,"params":{"filename":"\"I:\\ComfyUI_Video\\ComfyUI\\input\\taichi_smpl.webm\"","type":"path","format":"video/webm\"","force_rate":0,"custom_width":0,"custom_height":0,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1}}},"color":"#223","bgcolor":"#335"},{"id":31,"type":"VHS_LoadVideoPath","pos":[-1140,1530],"size":[310,802.6666666666667],"flags":{},"order":33,"mode":0,"inputs":[{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"video","name":"video","type":"STRING","widget":{"name":"video"},"link":null},{"localized_name":"force_rate","name":"force_rate","type":"FLOAT","widget":{"name":"force_rate"},"link":null},{"localized_name":"custom_width","name":"custom_width","type":"INT","widget":{"name":"custom_width"},"link":null},{"localized_name":"custom_height","name":"custom_height","type":"INT","widget":{"name":"custom_height"},"link":null},{"localized_name":"frame_load_cap","name":"frame_load_cap","type":"INT","widget":{"name":"frame_load_cap"},"link":null},{"localized_name":"skip_first_frames","name":"skip_first_frames","type":"INT","widget":{"name":"skip_first_frames"},"link":null},{"localized_name":"select_every_nth","name":"select_every_nth","type":"INT","widget":{"name":"select_every_nth"},"link":null},{"localized_name":"format","name":"format","shape":7,"type":"COMBO","widget":{"name":"format"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[181]},{"localized_name":"frame_count","name":"frame_count","type":"INT","links":[]},{"localized_name":"audio","name":"audio","type":"AUDIO","links":null},{"localized_name":"video_info","name":"video_info","type":"VHS_VIDEOINFO","links":[]}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"598e181e97d50174cc18677dfcdaa7b9b6ec0cb2","Node name for S&R":"VHS_LoadVideoPath"},"widgets_values":{"video":"\"I:\\ComfyUI_Video\\ComfyUI\\input\\WanShowcase\\Wan_mask_Test_00019.mp4\"","force_rate":0,"custom_width":0,"custom_height":0,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1,"format":"Wan","videopreview":{"hidden":false,"paused":true,"params":{"filename":"\"I:\\ComfyUI_Video\\ComfyUI\\input\\WanShowcase\\Wan_mask_Test_00019.mp4\"","type":"path","format":"video/mp4\"","force_rate":0,"custom_width":0,"custom_height":0,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1}}},"color":"#223","bgcolor":"#335"},{"id":34,"type":"VHS_LoadVideoPath","pos":[-1140,2510],"size":[310,802.6666666666667],"flags":{},"order":34,"mode":0,"inputs":[{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"video","name":"video","type":"STRING","widget":{"name":"video"},"link":null},{"localized_name":"force_rate","name":"force_rate","type":"FLOAT","widget":{"name":"force_rate"},"link":null},{"localized_name":"custom_width","name":"custom_width","type":"INT","widget":{"name":"custom_width"},"link":null},{"localized_name":"custom_height","name":"custom_height","type":"INT","widget":{"name":"custom_height"},"link":null},{"localized_name":"frame_load_cap","name":"frame_load_cap","type":"INT","widget":{"name":"frame_load_cap"},"link":null},{"localized_name":"skip_first_frames","name":"skip_first_frames","type":"INT","widget":{"name":"skip_first_frames"},"link":null},{"localized_name":"select_every_nth","name":"select_every_nth","type":"INT","widget":{"name":"select_every_nth"},"link":null},{"localized_name":"format","name":"format","shape":7,"type":"COMBO","widget":{"name":"format"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[185]},{"localized_name":"frame_count","name":"frame_count","type":"INT","links":[]},{"localized_name":"audio","name":"audio","type":"AUDIO","links":null},{"localized_name":"video_info","name":"video_info","type":"VHS_VIDEOINFO","links":[]}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"598e181e97d50174cc18677dfcdaa7b9b6ec0cb2","Node name for S&R":"VHS_LoadVideoPath"},"widgets_values":{"video":"\"I:\\ComfyUI_Video\\ComfyUI\\input\\WanShowcase\\Wan_mask_Test_00018.mp4\"","force_rate":0,"custom_width":0,"custom_height":0,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1,"format":"Wan","videopreview":{"hidden":false,"paused":true,"params":{"filename":"\"I:\\ComfyUI_Video\\ComfyUI\\input\\WanShowcase\\Wan_mask_Test_00018.mp4\"","type":"path","format":"video/mp4\"","force_rate":0,"custom_width":0,"custom_height":0,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1}}},"color":"#223","bgcolor":"#335"},{"id":114,"type":"Sam2Segmentation","pos":[2220,60],"size":[270,182],"flags":{},"order":95,"mode":4,"inputs":[{"localized_name":"sam2_model","name":"sam2_model","type":"SAM2MODEL","link":118},{"localized_name":"image","name":"image","type":"IMAGE","link":141},{"localized_name":"coordinates_positive","name":"coordinates_positive","shape":7,"type":"STRING","link":null},{"localized_name":"coordinates_negative","name":"coordinates_negative","shape":7,"type":"STRING","link":null},{"localized_name":"bboxes","name":"bboxes","shape":7,"type":"BBOX","link":120},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":null},{"localized_name":"keep_model_loaded","name":"keep_model_loaded","type":"BOOLEAN","widget":{"name":"keep_model_loaded"},"link":null},{"localized_name":"individual_objects","name":"individual_objects","shape":7,"type":"BOOLEAN","widget":{"name":"individual_objects"},"link":null}],"outputs":[{"localized_name":"mask","name":"mask","type":"MASK","links":[116]}],"properties":{"cnr_id":"ComfyUI-segment-anything-2","ver":"c59676b008a76237002926f684d0ca3a9b29ac54","Node name for S&R":"Sam2Segmentation"},"widgets_values":[false,false]},{"id":120,"type":"DownloadAndLoadSAM2Model","pos":[2210,-130],"size":[280,130],"flags":{},"order":35,"mode":4,"inputs":[{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"segmentor","name":"segmentor","type":"COMBO","widget":{"name":"segmentor"},"link":null},{"localized_name":"device","name":"device","type":"COMBO","widget":{"name":"device"},"link":null},{"localized_name":"precision","name":"precision","type":"COMBO","widget":{"name":"precision"},"link":null}],"outputs":[{"localized_name":"sam2_model","name":"sam2_model","type":"SAM2MODEL","links":[118]}],"properties":{"cnr_id":"ComfyUI-segment-anything-2","ver":"c59676b008a76237002926f684d0ca3a9b29ac54","Node name for S&R":"DownloadAndLoadSAM2Model"},"widgets_values":["sam2.1_hiera_large.safetensors","video","cuda","fp16"]},{"id":111,"type":"GrowMaskWithBlur","pos":[2530,60],"size":[290,246],"flags":{},"order":98,"mode":4,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":116},{"localized_name":"expand","name":"expand","type":"INT","widget":{"name":"expand"},"link":null},{"localized_name":"incremental_expandrate","name":"incremental_expandrate","type":"FLOAT","widget":{"name":"incremental_expandrate"},"link":null},{"localized_name":"tapered_corners","name":"tapered_corners","type":"BOOLEAN","widget":{"name":"tapered_corners"},"link":null},{"localized_name":"flip_input","name":"flip_input","type":"BOOLEAN","widget":{"name":"flip_input"},"link":null},{"localized_name":"blur_radius","name":"blur_radius","type":"FLOAT","widget":{"name":"blur_radius"},"link":null},{"localized_name":"lerp_alpha","name":"lerp_alpha","type":"FLOAT","widget":{"name":"lerp_alpha"},"link":null},{"localized_name":"decay_factor","name":"decay_factor","type":"FLOAT","widget":{"name":"decay_factor"},"link":null},{"localized_name":"fill_holes","name":"fill_holes","shape":7,"type":"BOOLEAN","widget":{"name":"fill_holes"},"link":null}],"outputs":[{"localized_name":"mask","name":"mask","type":"MASK","links":[117]},{"localized_name":"mask_inverted","name":"mask_inverted","type":"MASK","links":null}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"bb205d809b467307b8ec3bb1a22680a4873187f8","Node name for S&R":"GrowMaskWithBlur"},"widgets_values":[10,0,true,false,0,1,1,false]},{"id":132,"type":"GetNode","pos":[2640,1440],"size":[210,50],"flags":{"collapsed":true},"order":36,"mode":4,"inputs":[],"outputs":[{"name":"FLOAT","type":"FLOAT","links":[145]}],"title":"Get_Project FPS","properties":{},"widgets_values":["Project FPS"],"color":"#232","bgcolor":"#353"},{"id":136,"type":"GetImageSizeAndCount","pos":[3530,60],"size":[197.07500305175782,86],"flags":{},"order":70,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":148}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[149]},{"label":"640 width","localized_name":"width","name":"width","type":"INT","links":[150]},{"label":"640 height","localized_name":"height","name":"height","type":"INT","links":[151]},{"label":"241 count","localized_name":"count","name":"count","type":"INT","links":null}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"bb205d809b467307b8ec3bb1a22680a4873187f8","Node name for S&R":"GetImageSizeAndCount"},"widgets_values":[]},{"id":135,"type":"GetNode","pos":[3530,10],"size":[210,50],"flags":{"collapsed":true},"order":37,"mode":4,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[148]}],"title":"Get_Ref Video","properties":{},"widgets_values":["Ref Video"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":138,"type":"GetNode","pos":[4120,-10],"size":[210,34],"flags":{"collapsed":true},"order":38,"mode":4,"inputs":[],"outputs":[{"name":"FLOAT","type":"FLOAT","links":[152]}],"title":"Get_Project FPS","properties":{},"widgets_values":["Project FPS"],"color":"#232","bgcolor":"#353"},{"id":137,"type":"VHS_VideoCombine","pos":[4120,40],"size":[287.28398784391584,334],"flags":{},"order":91,"mode":4,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":153},{"localized_name":"audio","name":"audio","shape":7,"type":"AUDIO","link":null},{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"frame_rate","name":"frame_rate","type":"FLOAT","widget":{"name":"frame_rate"},"link":152},{"localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"pingpong","name":"pingpong","type":"BOOLEAN","widget":{"name":"pingpong"},"link":null},{"localized_name":"save_output","name":"save_output","type":"BOOLEAN","widget":{"name":"save_output"},"link":null},{"name":"pix_fmt","type":["yuv420p","yuv420p10le"],"widget":{"name":"pix_fmt"},"link":null},{"name":"crf","type":"INT","widget":{"name":"crf"},"link":null},{"name":"save_metadata","type":"BOOLEAN","widget":{"name":"save_metadata"},"link":null},{"name":"trim_to_audio","type":"BOOLEAN","widget":{"name":"trim_to_audio"},"link":null}],"outputs":[{"localized_name":"Filenames","name":"Filenames","type":"VHS_FILENAMES","links":null}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"0a75c7958fe320efcb052f1d9f8451fd20c730a8","Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":30,"loop_count":0,"filename_prefix":"ota_pose","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":19,"save_metadata":false,"trim_to_audio":false,"pingpong":false,"save_output":false,"videopreview":{"hidden":false,"paused":true,"params":{"filename":"ota_pose_00003.mp4","subfolder":"","type":"temp","format":"video/h264-mp4","frame_rate":30,"workflow":"ota_pose_00003.png","fullpath":"I:\\ComfyUI_Video\\ComfyUI\\temp\\ota_pose_00003.mp4"}}}},{"id":133,"type":"OnnxDetectionModelLoader","pos":[3760,-120],"size":[310,106],"flags":{},"order":39,"mode":4,"inputs":[{"localized_name":"vitpose_model","name":"vitpose_model","type":"COMBO","widget":{"name":"vitpose_model"},"link":null},{"localized_name":"yolo_model","name":"yolo_model","type":"COMBO","widget":{"name":"yolo_model"},"link":null},{"localized_name":"onnx_device","name":"onnx_device","type":"COMBO","widget":{"name":"onnx_device"},"link":null}],"outputs":[{"localized_name":"model","name":"model","type":"POSEMODEL","links":[146]}],"properties":{"cnr_id":"ComfyUI-WanAnimatePreprocess","ver":"2fcbcae7eec637fdc712fdec18e6266feb8ba3a7","Node name for S&R":"OnnxDetectionModelLoader"},"widgets_values":["vitpose_h_wholebody_model.onnx","onnx\\yolov10m.onnx","CUDAExecutionProvider"]},{"id":131,"type":"GetNode","pos":[1700,490],"size":[210,50],"flags":{"collapsed":true},"order":40,"mode":4,"inputs":[],"outputs":[{"name":"FLOAT","type":"FLOAT","links":[142,143,144]}],"title":"Get_Project FPS","properties":{},"widgets_values":["Project FPS"],"color":"#232","bgcolor":"#353"},{"id":91,"type":"RenderNLFPoses","pos":[2320,1490],"size":[270,242],"flags":{},"order":85,"mode":4,"inputs":[{"localized_name":"nlf_poses","name":"nlf_poses","type":"NLFPRED","link":88},{"localized_name":"dw_poses","name":"dw_poses","shape":7,"type":"DWPOSES","link":89},{"localized_name":"ref_dw_pose","name":"ref_dw_pose","shape":7,"type":"DWPOSES","link":156},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":104},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":106},{"localized_name":"draw_face","name":"draw_face","shape":7,"type":"BOOLEAN","widget":{"name":"draw_face"},"link":null},{"localized_name":"draw_hands","name":"draw_hands","shape":7,"type":"BOOLEAN","widget":{"name":"draw_hands"},"link":null},{"localized_name":"render_device","name":"render_device","shape":7,"type":"COMBO","widget":{"name":"render_device"},"link":null},{"localized_name":"scale_hands","name":"scale_hands","shape":7,"type":"BOOLEAN","widget":{"name":"scale_hands"},"link":null},{"localized_name":"render_backend","name":"render_backend","shape":7,"type":"COMBO","widget":{"name":"render_backend"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[93]},{"localized_name":"mask","name":"mask","type":"MASK","links":[]}],"properties":{"cnr_id":"comfyui-scail-pose","ver":"93059f0fe4ea3881c0d6ec0e327e5d920554277d","Node name for S&R":"RenderNLFPoses","aux_id":"kijai/ComfyUI-SCAIL-Pose"},"widgets_values":[512,896,true,true,"gpu",true,"torch"]},{"id":86,"type":"PoseDetectionVitPoseToDWPose","pos":[1980,1720],"size":[273.2000030517578,46],"flags":{},"order":71,"mode":4,"inputs":[{"localized_name":"vitpose_model","name":"vitpose_model","type":"POSEMODEL","link":84},{"localized_name":"images","name":"images","type":"IMAGE","link":160}],"outputs":[{"localized_name":"dw_poses","name":"dw_poses","type":"DWPOSES","links":[156]}],"properties":{"cnr_id":"comfyui-scail-pose","ver":"93059f0fe4ea3881c0d6ec0e327e5d920554277d","Node name for S&R":"PoseDetectionVitPoseToDWPose","aux_id":"kijai/ComfyUI-SCAIL-Pose"},"widgets_values":[]},{"id":143,"type":"GetNode","pos":[1750,1770],"size":[210,60],"flags":{"collapsed":true},"order":41,"mode":4,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[160]}],"title":"Get_retarget_img","properties":{},"widgets_values":["retarget_img"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":134,"type":"PoseDetectionOneToAllAnimation","pos":[3760,40],"size":[310,214],"flags":{},"order":84,"mode":4,"inputs":[{"localized_name":"model","name":"model","type":"POSEMODEL","link":146},{"localized_name":"images","name":"images","type":"IMAGE","link":149},{"localized_name":"ref_image","name":"ref_image","shape":7,"type":"IMAGE","link":162},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":150},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":151},{"localized_name":"align_to","name":"align_to","type":"COMBO","widget":{"name":"align_to"},"link":null},{"localized_name":"draw_face_points","name":"draw_face_points","type":"COMBO","widget":{"name":"draw_face_points"},"link":null},{"localized_name":"draw_head","name":"draw_head","type":"COMBO","widget":{"name":"draw_head"},"link":null}],"outputs":[{"localized_name":"pose_images","name":"pose_images","type":"IMAGE","links":[153]},{"localized_name":"ref_pose_image","name":"ref_pose_image","type":"IMAGE","links":[]},{"localized_name":"ref_image","name":"ref_image","type":"IMAGE","links":[]},{"localized_name":"ref_mask","name":"ref_mask","type":"MASK","links":[]}],"properties":{"cnr_id":"ComfyUI-WanAnimatePreprocess","ver":"8689199bf4fd631bf3e46a64f8304d826f398442","Node name for S&R":"PoseDetectionOneToAllAnimation"},"widgets_values":[832,480,"ref","weak","full"]},{"id":145,"type":"GetNode","pos":[3560,190],"size":[210,50],"flags":{"collapsed":true},"order":42,"mode":4,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[162]}],"title":"Get_retarget_img","properties":{},"widgets_values":["retarget_img"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":146,"type":"LoadNLFModel","pos":[1980,1360],"size":[270,82],"flags":{},"order":43,"mode":4,"inputs":[{"localized_name":"nlf_model","name":"nlf_model","type":"COMBO","widget":{"name":"nlf_model"},"link":null},{"localized_name":"warmup","name":"warmup","shape":7,"type":"BOOLEAN","widget":{"name":"warmup"},"link":null}],"outputs":[{"localized_name":"nlf_model","name":"nlf_model","type":"NLFMODEL","links":[163]}],"properties":{"cnr_id":"ComfyUI-WanVideoWrapper","ver":"9f9a8e71c2341006e3404feb7c66ea8fd45e4034","Node name for S&R":"LoadNLFModel"},"widgets_values":["nlf_l_multi_0.3.2.torchscript",true]},{"id":112,"type":"BlockifyMask","pos":[2860,60],"size":[270,82],"flags":{},"order":100,"mode":4,"inputs":[{"localized_name":"masks","name":"masks","type":"MASK","link":117},{"localized_name":"block_size","name":"block_size","type":"INT","widget":{"name":"block_size"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"mask","name":"mask","type":"MASK","links":[140,164]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"00da1910634fbf314d407608efb281ae6f7f1ba2","Node name for S&R":"BlockifyMask"},"widgets_values":[32,"cpu"]},{"id":147,"type":"MaskToImage","pos":[3180,60],"size":[194.04999389648438,26],"flags":{},"order":102,"mode":4,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":164}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[165]}],"properties":{"cnr_id":"comfy-core","ver":"0.9.2","Node name for S&R":"MaskToImage"},"widgets_values":[]},{"id":148,"type":"VHS_VideoCombine","pos":[3170,380],"size":[287.28398784391584,334],"flags":{},"order":104,"mode":4,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":165},{"localized_name":"audio","name":"audio","shape":7,"type":"AUDIO","link":null},{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"frame_rate","name":"frame_rate","type":"FLOAT","widget":{"name":"frame_rate"},"link":null},{"localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"pingpong","name":"pingpong","type":"BOOLEAN","widget":{"name":"pingpong"},"link":null},{"localized_name":"save_output","name":"save_output","type":"BOOLEAN","widget":{"name":"save_output"},"link":null},{"name":"pix_fmt","type":["yuv420p","yuv420p10le"],"widget":{"name":"pix_fmt"},"link":null},{"name":"crf","type":"INT","widget":{"name":"crf"},"link":null},{"name":"save_metadata","type":"BOOLEAN","widget":{"name":"save_metadata"},"link":null},{"name":"trim_to_audio","type":"BOOLEAN","widget":{"name":"trim_to_audio"},"link":null}],"outputs":[{"localized_name":"Filenames","name":"Filenames","type":"VHS_FILENAMES","links":null}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"0a75c7958fe320efcb052f1d9f8451fd20c730a8","Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":30,"loop_count":0,"filename_prefix":"wananim_mask","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":19,"save_metadata":false,"trim_to_audio":false,"pingpong":false,"save_output":false,"videopreview":{"hidden":false,"paused":true,"params":{"filename":"wananim_mask_00003.mp4","subfolder":"","type":"temp","format":"video/h264-mp4","frame_rate":30,"workflow":"wananim_mask_00003.png","fullpath":"I:\\ComfyUI_Video\\ComfyUI\\temp\\wananim_mask_00003.mp4"}}}},{"id":129,"type":"GetNode","pos":[1630,40],"size":[210,50],"flags":{"collapsed":true},"order":44,"mode":4,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[139]}],"title":"Get_Ref Video","properties":{},"widgets_values":["Ref Video"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":115,"type":"GetImageSizeAndCount","pos":[1630,80],"size":[197.07500305175782,90],"flags":{},"order":73,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":139}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[126]},{"label":"640 width","localized_name":"width","name":"width","type":"INT","links":[127,130]},{"label":"640 height","localized_name":"height","name":"height","type":"INT","links":[128,131]},{"label":"241 count","localized_name":"count","name":"count","type":"INT","links":null}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"bb205d809b467307b8ec3bb1a22680a4873187f8","Node name for S&R":"GetImageSizeAndCount"},"widgets_values":[]},{"id":130,"type":"GetNode","pos":[2220,290],"size":[210,50],"flags":{"collapsed":true},"order":45,"mode":4,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[141]}],"title":"Get_Ref Video","properties":{},"widgets_values":["Ref Video"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":149,"type":"GetNode","pos":[-770,1080],"size":[210,34],"flags":{"collapsed":true},"order":46,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[179]}],"title":"Get_Project Width","properties":{},"widgets_values":["Project Width"],"color":"#1b4669","bgcolor":"#29699c"},{"id":151,"type":"GetNode","pos":[-770,1100],"size":[210,34],"flags":{"collapsed":true},"order":47,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[180]}],"title":"Get_Project Height","properties":{},"widgets_values":["Project Height"],"color":"#1b4669","bgcolor":"#29699c"},{"id":122,"type":"DrawViTPose","pos":[1870,380],"size":[310,178],"flags":{},"order":93,"mode":4,"inputs":[{"localized_name":"pose_data","name":"pose_data","type":"POSEDATA","link":129},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":130},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":131},{"localized_name":"retarget_padding","name":"retarget_padding","type":"INT","widget":{"name":"retarget_padding"},"link":null},{"localized_name":"body_stick_width","name":"body_stick_width","type":"INT","widget":{"name":"body_stick_width"},"link":null},{"localized_name":"hand_stick_width","name":"hand_stick_width","type":"INT","widget":{"name":"hand_stick_width"},"link":null},{"localized_name":"draw_head","name":"draw_head","type":"BOOLEAN","widget":{"name":"draw_head"},"link":null}],"outputs":[{"localized_name":"pose_images","name":"pose_images","type":"IMAGE","links":[137]}],"properties":{"cnr_id":"ComfyUI-WanAnimatePreprocess","ver":"e63d6e71ae4c271f3f81211a7ca7f87607b7e50d","Node name for S&R":"DrawViTPose","aux_id":"kijai/ComfyUI-WanAnimatePreprocess"},"widgets_values":[832,480,0,-1,-1,"True"]},{"id":119,"type":"PoseAndFaceDetection","pos":[1870,60],"size":[310,190],"flags":{},"order":86,"mode":4,"inputs":[{"localized_name":"model","name":"model","type":"POSEMODEL","link":125},{"localized_name":"images","name":"images","type":"IMAGE","link":126},{"localized_name":"retarget_image","name":"retarget_image","shape":7,"type":"IMAGE","link":172},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":127},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":128},{"localized_name":"face_padding","name":"face_padding","shape":7,"type":"INT","widget":{"name":"face_padding"},"link":null}],"outputs":[{"localized_name":"pose_data","name":"pose_data","type":"POSEDATA","links":[129]},{"localized_name":"face_images","name":"face_images","type":"IMAGE","links":[135]},{"localized_name":"key_frame_body_points","name":"key_frame_body_points","type":"STRING","links":null},{"localized_name":"bboxes","name":"bboxes","type":"BBOX","links":[120]},{"localized_name":"face_bboxes","name":"face_bboxes","type":"BBOX,","links":null}],"properties":{"cnr_id":"ComfyUI-WanAnimatePreprocess","ver":"e63d6e71ae4c271f3f81211a7ca7f87607b7e50d","Node name for S&R":"PoseAndFaceDetection","aux_id":"kijai/ComfyUI-WanAnimatePreprocess"},"widgets_values":[832,480,0]},{"id":144,"type":"GetNode","pos":[1670,220],"size":[210,50],"flags":{"collapsed":true},"order":48,"mode":4,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[172]}],"title":"Get_retarget_img","properties":{},"widgets_values":["retarget_img"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":154,"type":"ImageBlend","pos":[-570,190],"size":[300,102],"flags":{},"order":49,"mode":0,"inputs":[{"localized_name":"image1","name":"image1","type":"IMAGE","link":null},{"localized_name":"image2","name":"image2","type":"IMAGE","link":null},{"localized_name":"blend_factor","name":"blend_factor","type":"FLOAT","widget":{"name":"blend_factor"},"link":null},{"localized_name":"blend_mode","name":"blend_mode","type":"COMBO","widget":{"name":"blend_mode"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[]}],"properties":{"cnr_id":"comfy-core","ver":"0.9.2","Node name for S&R":"ImageBlend"},"widgets_values":[1,"multiply"]},{"id":44,"type":"INTConstant","pos":[-490,40],"size":[220,60],"flags":{},"order":50,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"INT","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"value","name":"value","type":"INT","links":[39]}],"title":"Video Height","properties":{"cnr_id":"comfyui-kjnodes","ver":"086ac449a21e9f5e3b970313c2287713b67e8b95","Node name for S&R":"INTConstant"},"widgets_values":[640],"color":"#223","bgcolor":"#335"},{"id":155,"type":"Note","pos":[-800,190],"size":[210,88],"flags":{},"order":51,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["try multiply by mask to remove the background and focus to the charactor."],"color":"#432","bgcolor":"#653"},{"id":156,"type":"ImageResizeKJv2","pos":[-570,340],"size":[270,336],"flags":{},"order":67,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":173},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":174},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":175},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"keep_proportion","name":"keep_proportion","type":"COMBO","widget":{"name":"keep_proportion"},"link":null},{"localized_name":"pad_color","name":"pad_color","type":"STRING","widget":{"name":"pad_color"},"link":null},{"localized_name":"crop_position","name":"crop_position","type":"COMBO","widget":{"name":"crop_position"},"link":null},{"localized_name":"divisible_by","name":"divisible_by","type":"INT","widget":{"name":"divisible_by"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[176]},{"localized_name":"width","name":"width","type":"INT","links":null},{"localized_name":"height","name":"height","type":"INT","links":null},{"localized_name":"mask","name":"mask","type":"MASK","links":null}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"c8e7f48a7f68b7a31ee336bc0be54bedbca05ffa","Node name for S&R":"ImageResizeKJv2"},"widgets_values":[480,832,"lanczos","crop","0, 0, 0","center",2,"cpu"],"color":"#223","bgcolor":"#335"},{"id":142,"type":"SetNode","pos":[-220,1020],"size":[210,60],"flags":{"collapsed":true},"order":87,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":178}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_retarget_img","properties":{"previousName":"retarget_img"},"widgets_values":["retarget_img"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":99,"type":"LoadImage","pos":[-1130,990],"size":[310,400],"flags":{},"order":52,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[177]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"title":"Retarget Image","properties":{"cnr_id":"comfy-core","ver":"0.9.2","Node name for S&R":"LoadImage"},"widgets_values":["taichi_ff.png","image"],"color":"#223","bgcolor":"#335"},{"id":157,"type":"ImageResizeKJv2","pos":[-570,990],"size":[270,336],"flags":{},"order":75,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":177},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":179},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":180},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"keep_proportion","name":"keep_proportion","type":"COMBO","widget":{"name":"keep_proportion"},"link":null},{"localized_name":"pad_color","name":"pad_color","type":"STRING","widget":{"name":"pad_color"},"link":null},{"localized_name":"crop_position","name":"crop_position","type":"COMBO","widget":{"name":"crop_position"},"link":null},{"localized_name":"divisible_by","name":"divisible_by","type":"INT","widget":{"name":"divisible_by"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[178]},{"localized_name":"width","name":"width","type":"INT","links":null},{"localized_name":"height","name":"height","type":"INT","links":null},{"localized_name":"mask","name":"mask","type":"MASK","links":null}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"c8e7f48a7f68b7a31ee336bc0be54bedbca05ffa","Node name for S&R":"ImageResizeKJv2"},"widgets_values":[480,832,"lanczos","crop","0, 0, 0","center",2,"cpu"],"color":"#223","bgcolor":"#335"},{"id":141,"type":"Note","pos":[-1430,1000],"size":[280,88],"flags":{},"order":53,"mode":0,"inputs":[],"outputs":[],"title":"Retarget Image","properties":{},"widgets_values":["for WAN Animate | OTA | Steady Dance | SCAIL\nRetarget the pose to the pose of your first frame for video gen."],"color":"#432","bgcolor":"#653"},{"id":158,"type":"ImageResizeKJv2","pos":[-580,1530],"size":[270,336],"flags":{},"order":68,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":181},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":182},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":183},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"keep_proportion","name":"keep_proportion","type":"COMBO","widget":{"name":"keep_proportion"},"link":null},{"localized_name":"pad_color","name":"pad_color","type":"STRING","widget":{"name":"pad_color"},"link":null},{"localized_name":"crop_position","name":"crop_position","type":"COMBO","widget":{"name":"crop_position"},"link":null},{"localized_name":"divisible_by","name":"divisible_by","type":"INT","widget":{"name":"divisible_by"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[184]},{"localized_name":"width","name":"width","type":"INT","links":null},{"localized_name":"height","name":"height","type":"INT","links":null},{"localized_name":"mask","name":"mask","type":"MASK","links":null}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"c8e7f48a7f68b7a31ee336bc0be54bedbca05ffa","Node name for S&R":"ImageResizeKJv2"},"widgets_values":[480,832,"lanczos","crop","0, 0, 0","center",2,"cpu"],"color":"#223","bgcolor":"#335"},{"id":159,"type":"ImageResizeKJv2","pos":[-580,2510],"size":[270,336],"flags":{},"order":69,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":185},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":186},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":187},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"keep_proportion","name":"keep_proportion","type":"COMBO","widget":{"name":"keep_proportion"},"link":null},{"localized_name":"pad_color","name":"pad_color","type":"STRING","widget":{"name":"pad_color"},"link":null},{"localized_name":"crop_position","name":"crop_position","type":"COMBO","widget":{"name":"crop_position"},"link":null},{"localized_name":"divisible_by","name":"divisible_by","type":"INT","widget":{"name":"divisible_by"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[188]},{"localized_name":"width","name":"width","type":"INT","links":null},{"localized_name":"height","name":"height","type":"INT","links":null},{"localized_name":"mask","name":"mask","type":"MASK","links":null}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"c8e7f48a7f68b7a31ee336bc0be54bedbca05ffa","Node name for S&R":"ImageResizeKJv2"},"widgets_values":[480,832,"lanczos","crop","0, 0, 0","center",2,"cpu"],"color":"#223","bgcolor":"#335"},{"id":92,"type":"VHS_VideoCombine","pos":[2640,1490],"size":[287.28398784391584,334],"flags":{},"order":92,"mode":4,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":93},{"localized_name":"audio","name":"audio","shape":7,"type":"AUDIO","link":null},{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"frame_rate","name":"frame_rate","type":"FLOAT","widget":{"name":"frame_rate"},"link":145},{"localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"pingpong","name":"pingpong","type":"BOOLEAN","widget":{"name":"pingpong"},"link":null},{"localized_name":"save_output","name":"save_output","type":"BOOLEAN","widget":{"name":"save_output"},"link":null},{"name":"pix_fmt","type":["yuv420p","yuv420p10le"],"widget":{"name":"pix_fmt"},"link":null},{"name":"crf","type":"INT","widget":{"name":"crf"},"link":null},{"name":"save_metadata","type":"BOOLEAN","widget":{"name":"save_metadata"},"link":null},{"name":"trim_to_audio","type":"BOOLEAN","widget":{"name":"trim_to_audio"},"link":null}],"outputs":[{"localized_name":"Filenames","name":"Filenames","type":"VHS_FILENAMES","links":null}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"0a75c7958fe320efcb052f1d9f8451fd20c730a8","Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":30,"loop_count":0,"filename_prefix":"scail_pose","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":19,"save_metadata":false,"trim_to_audio":false,"pingpong":false,"save_output":false,"videopreview":{"hidden":false,"paused":true,"params":{"filename":"scail_pose_00002.mp4","subfolder":"","type":"temp","format":"video/h264-mp4","frame_rate":30,"workflow":"scail_pose_00002.png","fullpath":"I:\\ComfyUI_Video\\ComfyUI\\temp\\scail_pose_00002.mp4"}}}}],"links":[[1,17,0,1,0,"IMAGE"],[2,18,0,1,1,"IMAGE"],[3,16,0,1,2,"MASK"],[4,3,0,2,0,"IMAGE"],[5,4,0,2,1,"IMAGE"],[6,19,0,3,0,"IMAGE"],[7,20,0,3,2,"INT"],[8,19,0,4,0,"IMAGE"],[9,20,0,4,2,"INT"],[12,1,0,10,0,"IMAGE"],[14,9,0,10,4,"FLOAT,INT"],[15,4,0,11,0,"IMAGE"],[16,6,0,11,4,"FLOAT,INT"],[20,16,0,15,0,"MASK"],[21,13,0,16,0,"MASK"],[22,14,0,16,3,"MASK"],[23,15,0,18,0,"IMAGE"],[24,19,0,21,0,"IMAGE"],[25,20,0,21,4,"INT"],[26,19,0,22,0,"IMAGE"],[27,20,0,22,4,"INT"],[28,22,0,25,0,"IMAGE"],[29,21,0,25,1,"IMAGE"],[33,32,0,33,0,"*"],[34,35,0,36,0,"*"],[35,42,0,37,0,"INT"],[36,37,0,38,0,"*"],[38,43,0,40,0,"*"],[39,44,0,41,0,"*"],[52,20,0,54,2,"INT"],[53,20,0,55,3,"INT"],[76,76,0,39,0,"INT"],[83,82,0,85,0,"POSEMODEL"],[84,82,0,86,0,"POSEMODEL"],[88,93,0,91,0,"NLFPRED"],[89,85,0,91,1,"DWPOSES"],[93,91,0,92,0,"IMAGE"],[99,96,0,93,1,"IMAGE"],[100,96,0,85,1,"IMAGE"],[103,87,0,100,1,"INT"],[104,100,0,91,3,"INT"],[105,89,0,101,1,"INT"],[106,101,0,91,4,"INT"],[114,109,0,108,0,"IMAGE"],[116,114,0,111,0,"MASK"],[117,111,0,112,0,"MASK"],[118,120,0,114,0,"SAM2MODEL"],[120,119,3,114,4,"BBOX"],[125,110,0,119,0,"POSEMODEL"],[126,115,0,119,1,"IMAGE"],[127,115,1,119,3,"INT"],[128,115,2,119,4,"INT"],[129,119,0,122,0,"POSEDATA"],[130,115,1,122,1,"INT"],[131,115,2,122,2,"INT"],[135,119,1,126,0,"IMAGE"],[137,122,0,127,0,"IMAGE"],[138,108,0,128,0,"IMAGE"],[139,129,0,115,0,"IMAGE"],[140,112,0,108,1,"MASK"],[141,130,0,114,1,"IMAGE"],[142,131,0,126,4,"FLOAT"],[143,131,0,127,4,"FLOAT"],[144,131,0,128,4,"FLOAT"],[145,132,0,92,4,"FLOAT"],[146,133,0,134,0,"POSEMODEL"],[148,135,0,136,0,"IMAGE"],[149,136,0,134,1,"IMAGE"],[150,136,1,134,3,"INT"],[151,136,2,134,4,"INT"],[152,138,0,137,4,"FLOAT"],[153,134,0,137,0,"IMAGE"],[156,86,0,91,2,"DWPOSES"],[160,143,0,86,1,"IMAGE"],[162,145,0,134,2,"IMAGE"],[163,146,0,93,0,"NLFMODEL"],[164,112,0,147,0,"MASK"],[165,147,0,148,0,"IMAGE"],[172,144,0,119,2,"IMAGE"],[173,28,0,156,0,"IMAGE"],[174,61,0,156,2,"INT"],[175,63,0,156,3,"INT"],[176,156,0,30,0,"IMAGE"],[177,99,0,157,0,"IMAGE"],[178,157,0,142,0,"IMAGE"],[179,149,0,157,2,"INT"],[180,151,0,157,3,"INT"],[181,31,0,158,0,"IMAGE"],[182,66,0,158,2,"INT"],[183,68,0,158,3,"INT"],[184,158,0,32,0,"IMAGE"],[185,34,0,159,0,"IMAGE"],[186,71,0,159,2,"INT"],[187,73,0,159,3,"INT"],[188,159,0,35,0,"IMAGE"]],"groups":[{"id":1,"title":"Generate Control Video","bounding":[120,-200,1450,1169.5999755859375],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"Generate VACE Inpaint Control Video","bounding":[120,1010,1450,1020],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"Generate Pose Control Video for SCAIL","bounding":[1620,1290,1320,1130],"color":"#3f789e","font_size":24,"flags":{}},{"id":4,"title":"Generate Pose Control Video for WAN Animate | Steady Dance","bounding":[1620,-200,1850,1470],"color":"#3f789e","font_size":24,"flags":{}},{"id":5,"title":"Generate Pose Control Video For OTA","bounding":[3520,-200,900,1020],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.31863081771035673,"offset":[1796.026450898224,474.42912133051834]},"VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":false,"VHS_KeepIntermediate":true,"workflowRendererVersion":"LG"},"version":0.4}